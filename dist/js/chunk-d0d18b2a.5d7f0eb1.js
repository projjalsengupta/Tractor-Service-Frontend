(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0d18b2a"],{"0311":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.customer?i("div",[i("v-toolbar",{attrs:{flat:"",color:"grey lighten-3"}},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$router.go(-1)}}},[i("v-icon",[t._v("mdi-arrow-left")])],1),i("v-toolbar-title",[t._v("Back")])],1),t.loading?i("div",{staticClass:"text-center"},[i("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):i("div",[t.bookingVisible?i("div",[t.editBookingOpen?i("EditBooking",{attrs:{customer:t.customer,editBookingOpen:t.editBookingOpen},on:{"update:customer":function(e){t.customer=e},"update:editBookingOpen":function(e){t.editBookingOpen=e},"update:edit-booking-open":function(e){t.editBookingOpen=e}}}):i("ShowBooking",{attrs:{customer:t.customer,editBookingOpen:t.editBookingOpen},on:{"update:customer":function(e){t.customer=e},"update:editBookingOpen":function(e){t.editBookingOpen=e},"update:edit-booking-open":function(e){t.editBookingOpen=e}}})],1):t._e(),t.deliveryVisible?i("div",[t.editDeliveryOpen?i("EditDelivery",{attrs:{customer:t.customer,editDeliveryOpen:t.editDeliveryOpen},on:{"update:customer":function(e){t.customer=e},"update:editDeliveryOpen":function(e){t.editDeliveryOpen=e},"update:edit-delivery-open":function(e){t.editDeliveryOpen=e}}}):i("ShowDelivery",{attrs:{customer:t.customer,editDeliveryOpen:t.editDeliveryOpen},on:{"update:customer":function(e){t.customer=e},"update:editDeliveryOpen":function(e){t.editDeliveryOpen=e},"update:edit-delivery-open":function(e){t.editDeliveryOpen=e}}})],1):t._e(),t.invoiceVisible?i("div",[t.editInvoiceOpen?i("EditInvoice",{attrs:{customer:t.customer,editInvoiceOpen:t.editInvoiceOpen},on:{"update:customer":function(e){t.customer=e},"update:editInvoiceOpen":function(e){t.editInvoiceOpen=e},"update:edit-invoice-open":function(e){t.editInvoiceOpen=e}}}):i("ShowInvoice",{attrs:{customer:t.customer,editInvoiceOpen:t.editInvoiceOpen},on:{"update:customer":function(e){t.customer=e},"update:editInvoiceOpen":function(e){t.editInvoiceOpen=e},"update:edit-invoice-open":function(e){t.editInvoiceOpen=e}}})],1):t._e(),t.tractorDetailsVisible?i("div",[t.editTractorDetailsOpen?i("EditTractorDetails",{attrs:{customer:t.customer,editTractorDetailsOpen:t.editTractorDetailsOpen},on:{"update:customer":function(e){t.customer=e},"update:editTractorDetailsOpen":function(e){t.editTractorDetailsOpen=e},"update:edit-tractor-details-open":function(e){t.editTractorDetailsOpen=e}}}):i("ShowTractorDetails",{attrs:{customer:t.customer,editTractorDetailsOpen:t.editTractorDetailsOpen},on:{"update:customer":function(e){t.customer=e},"update:editTractorDetailsOpen":function(e){t.editTractorDetailsOpen=e},"update:edit-tractor-details-open":function(e){t.editTractorDetailsOpen=e}}})],1):t._e(),t.transactionVisible?i("div",[i("Transaction",{attrs:{customer:t.customer},on:{"update:customer":function(e){t.customer=e}}})],1):t._e(),i("v-bottom-navigation",{attrs:{app:"",color:"primary",grow:""},model:{value:t.bottomNav,callback:function(e){t.bottomNav=e},expression:"bottomNav"}},[i("v-btn",{attrs:{value:"booking"},on:{click:t.openBooking}},[i("span",[t._v("Booking")]),i("v-icon",[t._v("mdi-notebook")])],1),i("v-btn",{attrs:{value:"delivery"},on:{click:t.openDelivery}},[i("span",[t._v("Delivery")]),i("v-icon",[t._v("mdi-truck-delivery")])],1),i("v-btn",{attrs:{value:"invoice"},on:{click:t.openInvoice}},[i("span",[t._v("Invoice")]),i("v-icon",[t._v("mdi-newspaper")])],1),i("v-btn",{attrs:{value:"tractordetails"},on:{click:t.openTractorDetails}},[i("span",[t._v("Tractor")]),i("v-icon",[t._v("mdi-tractor")])],1),i("v-btn",{attrs:{value:"transaction"},on:{click:t.openTransaction}},[i("span",[t._v("Transaction")]),i("v-icon",[t._v("mdi-bank-transfer")])],1)],1)],1)],1):t._e()},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[null!=t.customer&&null!=t.customer.booking?i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-account")]),t._v("Personal Information ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-row",[i("v-avatar",{staticClass:"ma-2",attrs:{slot:"prepend-icon",color:"accent",size:"40px"},slot:"prepend-icon"},[null!=t.customer&&null!=t.customer.image&&null!=t.customer.image.data?i("img",{staticClass:"center-cropped",attrs:{src:"data:image/*;base64,"+t.customer.image.data}}):i("v-icon",{attrs:{size:"40px",color:"white"}},[t._v("mdi-account")])],1),i("div",[i("span",{staticClass:"caption blue--text"},[t._v("Booking name")]),i("br"),t._v(" "+t._s(t.customer.booking.bookingName)+" ")])],1)],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Nick name")]),i("br"),t._v(" "+t._s(t.customer.booking.nickName)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Son of")]),i("br"),t._v(" "+t._s(t.customer.booking.sonOf)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-earth")]),t._v("Address ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Village")]),i("br"),t._v(" "+t._s(t.customer.booking.village)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Post")]),i("br"),t._v(" "+t._s(t.customer.booking.post)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Police station")]),i("br"),t._v(" "+t._s(t.customer.booking.policeStation)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Dist")]),i("br"),t._v(" "+t._s(t.customer.booking.dist)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-phone")]),t._v("Phone numbers ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Mobile")]),i("br"),t._v(" "+t._s(t.customer.booking.mobile)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Whatsapp")]),i("br"),t._v(" "+t._s(t.customer.booking.whatsapp)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-chevron-right")]),t._v("Others ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Challan")]),i("br"),t._v(" "+t._s(t.customer.booking.challanNo)+" ")])],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:t.updateEditBookingOpen}},[i("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v("Edit ")],1)],1)],1):t._e()],1)},l=[],s={name:"ShowBooking",props:["customer","editBookingOpen"],methods:{updateEditBookingOpen:function(){this.$emit("update:editBookingOpen",!0)}}},r=s,c=(i("a544"),i("2877")),u=i("6544"),d=i.n(u),v=i("8212"),m=i("8336"),p=i("cc20"),h=i("62ad"),f=i("a523"),b=i("132d"),y=i("0fd9"),g=i("2fa4"),k=Object(c["a"])(r,n,l,!1,null,"33b462b7",null),C=k.exports;d()(k,{VAvatar:v["a"],VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"]});var _=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[null!=t.customer&&null!=t.customer.booking?i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.editBooking(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-account")]),t._v("Personal Information ")],1)],1),i("v-row",[i("v-col",{staticClass:"align-center d-flex flex-row",attrs:{cols:"12",md:"4"}},[null!=t.imgUrl||null!=t.customer&&null!=t.customer.image&&null!=t.customer.image.data?i("v-avatar",{attrs:{slot:"prepend-icon",color:"accent",size:"64px"},slot:"prepend-icon"},[null!=t.imgUrl?i("img",{staticClass:"center-cropped",attrs:{src:t.imgUrl}}):i("img",{staticClass:"center-cropped",attrs:{src:"data:image/*;base64,"+t.customer.image.data}})]):i("v-icon",[t._v("mdi-camera")]),i("v-file-input",{staticClass:"ml-2",attrs:{"prepend-icon":null,accept:"image/png, image/jpeg, image/bmp",label:"Photo"},on:{change:t.photoChanged},model:{value:t.photo,callback:function(e){t.photo=e},expression:"photo"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.bookingnameRules,counter:30,disabled:t.loading,label:"Booking name",required:""},model:{value:t.customer.booking.bookingName,callback:function(e){t.$set(t.customer.booking,"bookingName",e)},expression:"customer.booking.bookingName"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.nicknameRules,counter:15,disabled:t.loading,label:"Nick name (optional)",required:""},model:{value:t.customer.booking.nickName,callback:function(e){t.$set(t.customer.booking,"nickName",e)},expression:"customer.booking.nickName"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.sonofRules,counter:30,label:"Son of",required:""},model:{value:t.customer.booking.sonOf,callback:function(e){t.$set(t.customer.booking,"sonOf",e)},expression:"customer.booking.sonOf"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-earth")]),t._v("Address ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.villageRules,counter:20,disabled:t.loading,label:"Village",required:""},model:{value:t.customer.booking.village,callback:function(e){t.$set(t.customer.booking,"village",e)},expression:"customer.booking.village"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.postRules,counter:20,label:"Post",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyVillageToPost(e):null)}},model:{value:t.customer.booking.post,callback:function(e){t.$set(t.customer.booking,"post",e)},expression:"customer.booking.post"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.policestationRules,counter:20,label:"Police station",disabled:t.loading,required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyPostToPoliceStation(e):null)}},model:{value:t.customer.booking.policeStation,callback:function(e){t.$set(t.customer.booking,"policeStation",e)},expression:"customer.booking.policeStation"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.distRules,counter:20,label:"District",required:""},model:{value:t.customer.booking.dist,callback:function(e){t.$set(t.customer.booking,"dist",e)},expression:"customer.booking.dist"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-phone")]),t._v("Phone numbers ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.mobileRules,counter:10,disabled:t.loading,type:"number",label:"Mobile number",required:""},model:{value:t.customer.booking.mobile,callback:function(e){t.$set(t.customer.booking,"mobile",e)},expression:"customer.booking.mobile"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.whatsappRules,counter:10,type:"number",disabled:t.loading,label:"Whatsapp number (optional)",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyMobileToWhatsapp(e):null)}},model:{value:t.customer.booking.whatsapp,callback:function(e){t.$set(t.customer.booking,"whatsapp",e)},expression:"customer.booking.whatsapp"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-chevron-right")]),t._v("Others ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.challanRules,counter:10,label:"Challan number",required:""},model:{value:t.customer.booking.challanNo,callback:function(e){t.$set(t.customer.booking,"challanNo",e)},expression:"customer.booking.challanNo"}})],1)],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.close}},[i("v-icon",{staticClass:"white--text",attrs:{left:""}},[t._v("close")]),t._v("Cancel ")],1),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.editBooking}},[i("v-icon",{attrs:{left:""}},[t._v("save")]),t._v("Save ")],1)],1)],1)],1):t._e()],1)},x=[],w=(i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("4f4e")),O=new w,D={name:"EditBooking",props:["customer"],data:function(){return{imgUrl:null,photo:null,photoBlob:null,valid:!1,loading:!1,bookingnameRules:[function(t){return!!t||"Booking name is required"},function(t){return t.length<=30||"Booking name must be less than 30 characters"}],nicknameRules:[function(t){return t.length<=15||"Nick name must be less than 15 characters"}],sonofRules:[function(t){return!!t||"Son of field is required"},function(t){return t.length<=30||"Son of field must be less than 30 characters"}],villageRules:[function(t){return!!t||"Village is required"},function(t){return t.length<=20||"Village must be less than 20 characters"}],postRules:[function(t){return!!t||"Post is required"},function(t){return t.length<=20||"Post must be less than 20 characters"}],policestationRules:[function(t){return!!t||"Police station is required"},function(t){return t.length<=20||"Police station must be less than 20 characters"}],distRules:[function(t){return!!t||"District is required"},function(t){return t.length<=20||"District must be less than 20 characters"}],mobileRules:[function(t){return!!t||"Mobile is required"},function(t){return 10==t.length||"Mobile number should be of 10 digits"}],whatsappRules:[function(t){return 10==t.length||0==t.length||"Whatsapp number should be of 10 digits"}],challanRules:[function(t){return!!t||"Challan is required"},function(t){return t.length<=10||"Challan must be less than 10 characters"}]}},methods:{copyMobileToWhatsapp:function(){this.whatsapp=this.mobile},copyVillageToPost:function(){this.post=this.village},copyPostToPoliceStation:function(){this.policestation=this.post},photoChanged:function(){var t=this;if(null!=this.photo){this.imgUrl=URL.createObjectURL(this.photo),this.loading=!0;var e=[this.photo];O.compress(e,{size:.05,quality:1,maxWidth:250,maxHeight:250,resize:!0}).then((function(e){var i=e[0],o=i.data,a=i.ext,n=w.convertBase64ToFile(o,a);t.photoBlob=n,t.loading=!1}))}else this.imgUrl=null},editPhoto:function(){var t=this;null!=this.photo?this.$store.dispatch("editPhoto",{customerId:this.customer.customerId,file:this.photoBlob}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Booking edited. Error edited photo. Try again"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Booking edited. Photo edited."}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editBookingOpen",!1)),t.loading=!1})):(this.loading=!1,this.$store.commit("setSnackbarText",{snackbarText:"Booking edited"}),this.$store.commit("setSnackbarVisibility",{visible:!0}),this.$emit("update:editBookingOpen",!1))},editBooking:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editBooking",{customerId:this.customer.customerId,payload:{bookingName:this.customer.booking.bookingName,sonOf:this.customer.booking.sonOf,nickName:this.customer.booking.nickName,village:this.customer.booking.village,post:this.customer.booking.post,policeStation:this.customer.booking.policeStation,dist:this.customer.booking.dist,mobile:this.customer.booking.mobile,whatsapp:this.customer.booking.whatsapp,challanNo:this.customer.booking.challanNo}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing booking"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):t.$emit("update:customer",e.body),t.editPhoto()}))},close:function(){this.$emit("update:editBookingOpen",!1)}}},T=D,V=(i("4645"),i("23a7")),S=i("4bd4"),$=i("8654"),I=Object(c["a"])(T,_,x,!1,null,"1167b626",null),N=I.exports;d()(I,{VAvatar:v["a"],VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VFileInput:V["a"],VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[null!=t.customer&&null!=t.customer.delivery?i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-account")]),t._v("Personal Information ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Delivery name")]),i("br"),t._v(" "+t._s(t.customer.delivery.deliveryName)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Nick name")]),i("br"),t._v(" "+t._s(t.customer.delivery.nickName)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Son of")]),i("br"),t._v(" "+t._s(t.customer.delivery.sonOf)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-earth")]),t._v("Address ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Village")]),i("br"),t._v(" "+t._s(t.customer.delivery.village)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Post")]),i("br"),t._v(" "+t._s(t.customer.delivery.post)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Police station")]),i("br"),t._v(" "+t._s(t.customer.delivery.policeStation)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Dist")]),i("br"),t._v(" "+t._s(t.customer.delivery.dist)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-phone")]),t._v("Phone numbers ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Mobile")]),i("br"),t._v(" "+t._s(t.customer.delivery.mobile)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Whatsapp")]),i("br"),t._v(" "+t._s(t.customer.delivery.whatsapp)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-chevron-right")]),t._v("Others ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Challan")]),i("br"),t._v(" "+t._s(t.customer.delivery.challanNo)+" ")])],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:t.updateEditDeliveryOpen}},[i("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v("Edit ")],1)],1)],1):i("v-container",[i("v-row",{staticClass:"justify-center ma-2"},[t._v("No delivery added")]),i("v-row",{staticClass:"justify-center ma-2"},[i("v-btn",{attrs:{color:"primary",rounded:""},on:{click:t.updateEditDeliveryOpen}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Add delivery ")],1)],1),i("v-row",{staticClass:"justify-center ma-2"},[i("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{color:"accent",rounded:""}},o),[i("v-icon",{attrs:{left:""}},[t._v("mdi-content-copy")]),t._v("Copy Booking to Delivery ")],1)]}}]),model:{value:t.showCopyDialog,callback:function(e){t.showCopyDialog=e},expression:"showCopyDialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Copy Booking to Delivery")]),i("v-card-text",[i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.copyBookingToDelivery(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{rules:t.challanRules,counter:10,label:"Challan",required:""},model:{value:t.challan,callback:function(e){t.challan=e},expression:"challan"}})],1),i("v-row",[i("v-spacer"),i("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.showCopyDialog=!1}}},[t._v("Cancel")]),i("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:t.copyBookingToDelivery}},[t._v("Copy")])],1)],1)],1)],1)],1)],1)],1)},P=[],B={name:"ShowDelivery",props:["customer"],data:function(){return{showCopyDialog:!1,challan:"",valid:!1,challanRules:[function(t){return!!t||"Challan is required"},function(t){return t.length<=10||"Challan must be less than 10 characters"}]}},methods:{updateEditDeliveryOpen:function(){this.$emit("update:editDeliveryOpen",!0)},copyBookingToDelivery:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editDelivery",{customerId:this.customer.customerId,payload:{deliveryName:this.customer.booking.bookingName,sonOf:this.customer.booking.sonOf,nickName:this.customer.booking.nickName,village:this.customer.booking.village,post:this.customer.booking.post,policeStation:this.customer.booking.policeStation,dist:this.customer.booking.dist,mobile:this.customer.booking.mobile,whatsapp:this.customer.booking.whatsapp,challanNo:this.challan}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing delivery"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited delivery"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editDeliveryOpen",!1),t.showCopyDialog=!1)}))}}},R=B,j=i("b0af"),q=i("99d9"),F=(i("a4d3"),i("4de4"),i("4160"),i("caad"),i("45fc"),i("a9e3"),i("e439"),i("dbb4"),i("b64b"),i("2532"),i("498a"),i("159b"),i("2fa7")),A=(i("368e"),i("4ad4")),M=i("b848"),L=i("75eb"),W=(i("3c93"),i("a9ad")),U=i("7560"),z=i("f2e7"),H=i("58df");function K(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function Y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(i,!0).forEach((function(e){Object(F["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Z=Object(H["a"])(W["a"],U["a"],z["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes:function(){return Y({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(t){var e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},e)}}),J=Z,X=i("80d2"),G=i("2b0e"),Q=G["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{overlay:null}},watch:{hideOverlay:function(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var t=new J({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay:function(){var t=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),requestAnimationFrame((function(){t.overlay&&(void 0!==t.activeZIndex?t.overlay.zIndex=String(t.activeZIndex-1):t.$el&&(t.overlay.zIndex=Object(X["t"])(t.$el)),t.overlay.value=!0)})),!0},removeOverlay:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(X["a"])(this.overlay.$el,"transitionend",(function(){t.overlay&&t.overlay.$el&&t.overlay.$el.parentNode&&!t.overlay.value&&(t.overlay.$el.parentNode.removeChild(t.overlay.$el),t.overlay.$destroy(),t.overlay=null)})),this.overlay.value=!1),e&&this.showScroll()},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[X["x"].up,X["x"].pageup],i=[X["x"].down,X["x"].pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!i.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},shouldScroll:function(t,e){return 0===t.scrollTop&&e<0||t.scrollTop+t.clientHeight===t.scrollHeight&&e>0},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=t.path||this.composedPath(t),i=t.deltaY;if("keydown"===t.type&&e[0]===document.body){var o=this.$refs.dialog,a=window.getSelection().anchorNode;return!(o&&this.hasScrollbar(o)&&this.isInside(a,o))||this.shouldScroll(o,i)}for(var n=0;n<e.length;n++){var l=e[n];if(l===document)return!0;if(l===document.documentElement)return!0;if(l===this.$refs.content)return!0;if(this.hasScrollbar(l))return this.shouldScroll(l,i)}return!0},composedPath:function(t){if(t.composedPath)return t.composedPath();var e=[],i=t.target;while(i){if(e.push(i),"HTML"===i.tagName)return e.push(document),e.push(window),e;i=i.parentElement}return e},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(X["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),tt=i("e4d3"),et=i("21be"),it=i("a293"),ot=i("bfc5"),at=i("d9bd");function nt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function lt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nt(i,!0).forEach((function(e){Object(F["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var st=Object(H["a"])(A["a"],M["a"],L["a"],Q,tt["a"],et["a"],z["a"]),rt=st.extend({name:"v-dialog",directives:{ClickOutside:it["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes:function(){var t;return t={},Object(F["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(F["a"])(t,"v-dialog--active",this.isActive),Object(F["a"])(t,"v-dialog--persistent",this.persistent),Object(F["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(F["a"])(t,"v-dialog--scrollable",this.scrollable),Object(F["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(at["d"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&(this.$emit("click:outside"),this.persistent?(!this.noClickAnimation&&this.animateClick(),!1):this.activeZIndex>=this.getMaxZIndex())},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):Q.options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$refs.content.focus(),t.bind()}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onKeydown:function(t){if(t.keyCode===X["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');i.length&&i[0].focus()}}}},render:function(t){var e=this,i=[],o={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:function(){e.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function(t){t.stopPropagation()}},style:{}};this.fullscreen||(o.style={maxWidth:"none"===this.maxWidth?void 0:Object(X["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(X["g"])(this.width)}),i.push(this.genActivator());var a=t("div",o,this.showLazyContent(this.getContentSlot()));return this.transition&&(a=t("transition",{props:{name:this.transition,origin:this.origin}},[a])),i.push(t("div",{class:this.contentClasses,attrs:lt({role:"document",tabindex:this.isActive?0:void 0},this.getScopeIdAttrs()),on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(ot["a"],{props:{root:!0,light:this.light,dark:this.dark}},[a])])),t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},i)}}),ct=Object(c["a"])(R,E,P,!1,null,null,null),ut=ct.exports;d()(ct,{VBtn:m["a"],VCard:j["a"],VCardText:q["c"],VCardTitle:q["d"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VDialog:rt,VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.customer?i("div",[i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.editDelivery(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-account")]),t._v("Personal Information ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.deliverynameRules,value:"ge",counter:30,disabled:t.loading,label:"Delivery name",required:""},model:{value:t.copyDelivery.deliveryName,callback:function(e){t.$set(t.copyDelivery,"deliveryName",e)},expression:"copyDelivery.deliveryName"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.nicknameRules,counter:15,disabled:t.loading,label:"Nick name (optional)",required:""},model:{value:t.copyDelivery.nickName,callback:function(e){t.$set(t.copyDelivery,"nickName",e)},expression:"copyDelivery.nickName"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.sonofRules,counter:30,label:"Son of",required:""},model:{value:t.copyDelivery.sonOf,callback:function(e){t.$set(t.copyDelivery,"sonOf",e)},expression:"copyDelivery.sonOf"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-earth")]),t._v("Address ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.villageRules,counter:20,disabled:t.loading,label:"Village",required:""},model:{value:t.copyDelivery.village,callback:function(e){t.$set(t.copyDelivery,"village",e)},expression:"copyDelivery.village"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.postRules,counter:20,label:"Post",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyVillageToPost(e):null)}},model:{value:t.copyDelivery.post,callback:function(e){t.$set(t.copyDelivery,"post",e)},expression:"copyDelivery.post"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.policestationRules,counter:20,label:"Police station",disabled:t.loading,required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyPostToPoliceStation(e):null)}},model:{value:t.copyDelivery.policeStation,callback:function(e){t.$set(t.copyDelivery,"policeStation",e)},expression:"copyDelivery.policeStation"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.distRules,counter:20,label:"District",required:""},model:{value:t.copyDelivery.dist,callback:function(e){t.$set(t.copyDelivery,"dist",e)},expression:"copyDelivery.dist"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-phone")]),t._v("Phone numbers ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.mobileRules,counter:10,disabled:t.loading,type:"number",label:"Mobile number",required:""},model:{value:t.copyDelivery.mobile,callback:function(e){t.$set(t.copyDelivery,"mobile",e)},expression:"copyDelivery.mobile"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.whatsappRules,counter:10,type:"number",disabled:t.loading,label:"Whatsapp number (optional)",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyMobileToWhatsapp(e):null)}},model:{value:t.copyDelivery.whatsapp,callback:function(e){t.$set(t.copyDelivery,"whatsapp",e)},expression:"copyDelivery.whatsapp"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-chevron-right")]),t._v("Others ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.challanRules,counter:10,label:"Challan number",required:""},model:{value:t.copyDelivery.challanNo,callback:function(e){t.$set(t.copyDelivery,"challanNo",e)},expression:"copyDelivery.challanNo"}})],1)],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.close}},[i("v-icon",{staticClass:"white--text",attrs:{left:""}},[t._v("close")]),t._v("Cancel ")],1),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.editDelivery}},[i("v-icon",{attrs:{left:""}},[t._v("save")]),t._v("Save ")],1)],1)],1)],1)],1):t._e()},vt=[],mt={name:"EditDelivery",props:["customer"],data:function(){return{copyDelivery:{deliveryName:"",nickName:"",sonOf:"",village:"",post:"",policeStation:"",dist:"",mobile:"",whatsapp:"",challanNo:""},valid:!1,loading:!1,deliverynameRules:[function(t){return!!t||"Delivery name is required"},function(t){return t.length<=30||"Delivery name must be less than 30 characters"}],nicknameRules:[function(t){return t.length<=15||"Nick name must be less than 15 characters"}],sonofRules:[function(t){return!!t||"Son of field is required"},function(t){return t.length<=30||"Son of field must be less than 30 characters"}],villageRules:[function(t){return!!t||"Village is required"},function(t){return t.length<=20||"Village must be less than 20 characters"}],postRules:[function(t){return!!t||"Post is required"},function(t){return t.length<=20||"Post must be less than 20 characters"}],policestationRules:[function(t){return!!t||"Police station is required"},function(t){return t.length<=20||"Police station must be less than 20 characters"}],distRules:[function(t){return!!t||"District is required"},function(t){return t.length<=20||"District must be less than 20 characters"}],mobileRules:[function(t){return!!t||"Mobile is required"},function(t){return 10==t.length||"Mobile number should be of 10 digits"}],whatsappRules:[function(t){return 10==t.length||0==t.length||"Whatsapp number should be of 10 digits"}],challanRules:[function(t){return!!t||"Challan is required"},function(t){return t.length<=10||"Challan must be less than 10 characters"}]}},created:function(){null!=this.customer.delivery&&(this.copyDelivery=this.customer.delivery)},methods:{copyMobileToWhatsapp:function(){this.copyDelivery.whatsapp=this.copyDelivery.mobile},copyVillageToPost:function(){this.copyDelivery.post=this.copyDelivery.village},copyPostToPoliceStation:function(){this.copyDelivery.policeStation=this.copyDelivery.post},editDelivery:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editDelivery",{customerId:this.customer.customerId,payload:{deliveryName:this.copyDelivery.deliveryName,sonOf:this.copyDelivery.sonOf,nickName:this.copyDelivery.nickName,village:this.copyDelivery.village,post:this.copyDelivery.post,policeStation:this.copyDelivery.policeStation,dist:this.copyDelivery.dist,mobile:this.copyDelivery.mobile,whatsapp:this.copyDelivery.whatsapp,challanNo:this.copyDelivery.challanNo}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing delivery"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited delivery"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editDeliveryOpen",!1))}))},close:function(){this.$emit("update:editDeliveryOpen",!1)}}},pt=mt,ht=Object(c["a"])(pt,dt,vt,!1,null,null,null),ft=ht.exports;d()(ht,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[null!=t.customer&&null!=t.customer.invoice?i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-account")]),t._v("Personal Information ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Invoice name")]),i("br"),t._v(" "+t._s(t.customer.invoice.invoiceName)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Nick name")]),i("br"),t._v(" "+t._s(t.customer.invoice.nickName)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Son of")]),i("br"),t._v(" "+t._s(t.customer.invoice.sonOf)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-earth")]),t._v("Address ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Village")]),i("br"),t._v(" "+t._s(t.customer.invoice.village)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Post")]),i("br"),t._v(" "+t._s(t.customer.invoice.post)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Police station")]),i("br"),t._v(" "+t._s(t.customer.invoice.policeStation)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Dist")]),i("br"),t._v(" "+t._s(t.customer.invoice.dist)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-phone")]),t._v("Phone numbers ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Mobile")]),i("br"),t._v(" "+t._s(t.customer.invoice.mobile)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Whatsapp")]),i("br"),t._v(" "+t._s(t.customer.invoice.whatsapp)+" ")])],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-chevron-right")]),t._v("Others ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Challan")]),i("br"),t._v(" "+t._s(t.customer.invoice.challanNo)+" ")])],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:t.updateEditInvoiceOpen}},[i("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v("Edit ")],1)],1)],1):i("v-container",[i("v-row",{staticClass:"justify-center ma-2"},[t._v("No invoice added")]),i("v-row",{staticClass:"justify-center ma-2"},[i("v-btn",{attrs:{color:"primary",rounded:""},on:{click:t.updateEditInvoiceOpen}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Add invoice ")],1)],1),i("v-row",{staticClass:"justify-center ma-2"},[i("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{color:"accent",rounded:""}},o),[i("v-icon",{attrs:{left:""}},[t._v("mdi-content-copy")]),t._v("Copy Booking to Invoice ")],1)]}}]),model:{value:t.showCopyDialog,callback:function(e){t.showCopyDialog=e},expression:"showCopyDialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Copy Booking to Invoice")]),i("v-card-text",[i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.copyBookingToInvoice(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{rules:t.challanRules,counter:10,label:"Challan",required:""},model:{value:t.challan,callback:function(e){t.challan=e},expression:"challan"}})],1),i("v-row",[i("v-spacer"),i("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.showCopyDialog=!1}}},[t._v("Cancel")]),i("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:t.copyBookingToInvoice}},[t._v("Copy")])],1)],1)],1)],1)],1),i("v-row",{staticClass:"justify-center ma-2"},[i("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{color:"accent",rounded:""}},o),[i("v-icon",{attrs:{left:""}},[t._v("mdi-content-copy")]),t._v("Copy Delivery to Invoice ")],1)]}}]),model:{value:t.showCopyDialog2,callback:function(e){t.showCopyDialog2=e},expression:"showCopyDialog2"}},[i("v-card",[i("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("Copy Delivery to Invoice")]),i("v-card-text",[i("v-form",{ref:"form2",on:{submit:function(e){return e.preventDefault(),t.copyDeliveryToInvoice(e)}},model:{value:t.valid2,callback:function(e){t.valid2=e},expression:"valid2"}},[i("v-text-field",{attrs:{rules:t.challanRules,counter:10,label:"Challan",required:""},model:{value:t.challan2,callback:function(e){t.challan2=e},expression:"challan2"}})],1),i("v-row",[i("v-spacer"),i("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.showCopyDialog2=!1}}},[t._v("Cancel")]),i("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:t.copyDeliveryToInvoice}},[t._v("Copy")])],1)],1)],1)],1)],1)],1)],1)},yt=[],gt={name:"ShowInvoice",props:["customer"],data:function(){return{showCopyDialog:!1,showCopyDialog2:!1,challan:"",challan2:"",valid:!1,valid2:!1,challanRules:[function(t){return!!t||"Challan is required"},function(t){return t.length<=10||"Challan must be less than 10 characters"}]}},methods:{updateEditInvoiceOpen:function(){this.$emit("update:editInvoiceOpen",!0)},copyBookingToInvoice:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editInvoice",{customerId:this.customer.customerId,payload:{invoiceName:this.customer.booking.bookingName,sonOf:this.customer.booking.sonOf,nickName:this.customer.booking.nickName,village:this.customer.booking.village,post:this.customer.booking.post,policeStation:this.customer.booking.policeStation,dist:this.customer.booking.dist,mobile:this.customer.booking.mobile,whatsapp:this.customer.booking.whatsapp,challanNo:this.challan}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing invoice"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited invoice"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editInvoiceOpen",!1),t.showCopyDialog=!1)}))},copyDeliveryToInvoice:function(){var t=this;this.$refs.form2.validate(),this.valid2&&this.$store.dispatch("editInvoice",{customerId:this.customer.customerId,payload:{invoiceName:this.customer.delivery.bookingName,sonOf:this.customer.delivery.sonOf,nickName:this.customer.delivery.nickName,village:this.customer.delivery.village,post:this.customer.delivery.post,policeStation:this.customer.delivery.policeStation,dist:this.customer.delivery.dist,mobile:this.customer.delivery.mobile,whatsapp:this.customer.delivery.whatsapp,challanNo:this.challan2}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing invoice"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited invoice"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editInvoiceOpen",!1),t.showCopyDialog2=!1)}))}}},kt=gt,Ct=Object(c["a"])(kt,bt,yt,!1,null,null,null),_t=Ct.exports;d()(Ct,{VBtn:m["a"],VCard:j["a"],VCardText:q["c"],VCardTitle:q["d"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VDialog:rt,VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.customer?i("div",[i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.editInvoice(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-account")]),t._v("Personal Information ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.invoicenameRules,value:"ge",counter:30,disabled:t.loading,label:"Invoice name",required:""},model:{value:t.copyInvoice.invoiceName,callback:function(e){t.$set(t.copyInvoice,"invoiceName",e)},expression:"copyInvoice.invoiceName"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.nicknameRules,counter:15,disabled:t.loading,label:"Nick name (optional)",required:""},model:{value:t.copyInvoice.nickName,callback:function(e){t.$set(t.copyInvoice,"nickName",e)},expression:"copyInvoice.nickName"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.sonofRules,counter:30,label:"Son of",required:""},model:{value:t.copyInvoice.sonOf,callback:function(e){t.$set(t.copyInvoice,"sonOf",e)},expression:"copyInvoice.sonOf"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-earth")]),t._v("Address ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.villageRules,counter:20,disabled:t.loading,label:"Village",required:""},model:{value:t.copyInvoice.village,callback:function(e){t.$set(t.copyInvoice,"village",e)},expression:"copyInvoice.village"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.postRules,counter:20,label:"Post",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyVillageToPost(e):null)}},model:{value:t.copyInvoice.post,callback:function(e){t.$set(t.copyInvoice,"post",e)},expression:"copyInvoice.post"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.policestationRules,counter:20,label:"Police station",disabled:t.loading,required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyPostToPoliceStation(e):null)}},model:{value:t.copyInvoice.policeStation,callback:function(e){t.$set(t.copyInvoice,"policeStation",e)},expression:"copyInvoice.policeStation"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.distRules,counter:20,label:"District",required:""},model:{value:t.copyInvoice.dist,callback:function(e){t.$set(t.copyInvoice,"dist",e)},expression:"copyInvoice.dist"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-phone")]),t._v("Phone numbers ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.mobileRules,counter:10,disabled:t.loading,type:"number",label:"Mobile number",required:""},model:{value:t.copyInvoice.mobile,callback:function(e){t.$set(t.copyInvoice,"mobile",e)},expression:"copyInvoice.mobile"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.whatsappRules,counter:10,type:"number",disabled:t.loading,label:"Whatsapp number (optional)",required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey?t.copyMobileToWhatsapp(e):null)}},model:{value:t.copyInvoice.whatsapp,callback:function(e){t.$set(t.copyInvoice,"whatsapp",e)},expression:"copyInvoice.whatsapp"}})],1)],1),i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-chevron-right")]),t._v("Others ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{disabled:t.loading,rules:t.challanRules,counter:10,label:"Challan number",required:""},model:{value:t.copyInvoice.challanNo,callback:function(e){t.$set(t.copyInvoice,"challanNo",e)},expression:"copyInvoice.challanNo"}})],1)],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.close}},[i("v-icon",{staticClass:"white--text",attrs:{left:""}},[t._v("close")]),t._v("Cancel ")],1),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.editInvoice}},[i("v-icon",{attrs:{left:""}},[t._v("save")]),t._v("Save ")],1)],1)],1)],1)],1):t._e()},wt=[],Ot={name:"EditInvoice",props:["customer"],data:function(){return{copyInvoice:{invoiceName:"",nickName:"",sonOf:"",village:"",post:"",policeStation:"",dist:"",mobile:"",whatsapp:"",challanNo:""},valid:!1,loading:!1,invoicenameRules:[function(t){return!!t||"Invoice name is required"},function(t){return t.length<=30||"Invoice name must be less than 30 characters"}],nicknameRules:[function(t){return t.length<=15||"Nick name must be less than 15 characters"}],sonofRules:[function(t){return!!t||"Son of field is required"},function(t){return t.length<=30||"Son of field must be less than 30 characters"}],villageRules:[function(t){return!!t||"Village is required"},function(t){return t.length<=20||"Village must be less than 20 characters"}],postRules:[function(t){return!!t||"Post is required"},function(t){return t.length<=20||"Post must be less than 20 characters"}],policestationRules:[function(t){return!!t||"Police station is required"},function(t){return t.length<=20||"Police station must be less than 20 characters"}],distRules:[function(t){return!!t||"District is required"},function(t){return t.length<=20||"District must be less than 20 characters"}],mobileRules:[function(t){return!!t||"Mobile is required"},function(t){return 10==t.length||"Mobile number should be of 10 digits"}],whatsappRules:[function(t){return 10==t.length||0==t.length||"Whatsapp number should be of 10 digits"}],challanRules:[function(t){return!!t||"Challan is required"},function(t){return t.length<=10||"Challan must be less than 10 characters"}]}},created:function(){null!=this.customer.invoice&&(this.copyInvoice=this.customer.invoice)},methods:{copyMobileToWhatsapp:function(){this.copyInvoice.whatsapp=this.copyInvoice.mobile},copyVillageToPost:function(){this.copyInvoice.post=this.copyInvoice.village},copyPostToPoliceStation:function(){this.copyInvoice.policeStation=this.copyInvoice.post},editInvoice:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editInvoice",{customerId:this.customer.customerId,payload:{invoiceName:this.copyInvoice.invoiceName,sonOf:this.copyInvoice.sonOf,nickName:this.copyInvoice.nickName,village:this.copyInvoice.village,post:this.copyInvoice.post,policeStation:this.copyInvoice.policeStation,dist:this.copyInvoice.dist,mobile:this.copyInvoice.mobile,whatsapp:this.copyInvoice.whatsapp,challanNo:this.copyInvoice.challanNo}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing invoice"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited invoice"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editInvoiceOpen",!1))}))},close:function(){this.$emit("update:editInvoiceOpen",!1)}}},Dt=Ot,Tt=Object(c["a"])(Dt,xt,wt,!1,null,null,null),Vt=Tt.exports;d()(Tt,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[null!=t.customer&&null!=t.customer.tractorDetails?i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-tractor")]),t._v("Tractor details ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Tractor model number")]),i("br"),t._v(" "+t._s(t.customer.tractorDetails.tractorModelNo)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Tractor engine number")]),i("br"),t._v(" "+t._s(t.customer.tractorDetails.tractorEngineNo)+" ")]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("span",{staticClass:"caption blue--text"},[t._v("Tractor chassis number")]),i("br"),t._v(" "+t._s(t.customer.tractorDetails.tractorChassisNo)+" ")])],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:t.updateEditTractorDetailsOpen}},[i("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v("Edit ")],1)],1)],1):i("v-container",[i("v-row",{staticClass:"justify-center ma-2"},[t._v("No tractor details added")]),i("v-row",{staticClass:"justify-center ma-2"},[i("v-btn",{attrs:{color:"primary",rounded:""},on:{click:t.updateEditTractorDetailsOpen}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Add tractor details ")],1)],1)],1)],1)},$t=[],It={name:"ShowTractorDetails",props:["customer"],methods:{updateEditTractorDetailsOpen:function(){this.$emit("update:editTractorDetailsOpen",!0)}}},Nt=It,Et=Object(c["a"])(Nt,St,$t,!1,null,null,null),Pt=Et.exports;d()(Et,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"]});var Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.customer?i("div",[i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.editTractorDetails(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-tractor")]),t._v("Tractor details ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.tractorModelNoRules,counter:30,disabled:t.loading,label:"Tractor model no.",required:""},model:{value:t.copyTractorDetails.tractorModelNo,callback:function(e){t.$set(t.copyTractorDetails,"tractorModelNo",e)},expression:"copyTractorDetails.tractorModelNo"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.tractorEngineNoRules,counter:30,disabled:t.loading,label:"Tractor engine no.",required:""},model:{value:t.copyTractorDetails.tractorEngineNo,callback:function(e){t.$set(t.copyTractorDetails,"tractorEngineNo",e)},expression:"copyTractorDetails.tractorEngineNo"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{rules:t.tractorChassisNoRules,counter:30,disabled:t.loading,label:"Tractor chassis no.",required:""},model:{value:t.copyTractorDetails.tractorChassisNo,callback:function(e){t.$set(t.copyTractorDetails,"tractorChassisNo",e)},expression:"copyTractorDetails.tractorChassisNo"}})],1)],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.close}},[i("v-icon",{staticClass:"white--text",attrs:{left:""}},[t._v("close")]),t._v("Cancel ")],1),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.editTractorDetails}},[i("v-icon",{attrs:{left:""}},[t._v("save")]),t._v("Save ")],1)],1)],1)],1)],1):t._e()},Rt=[],jt={name:"EditTractorDetails",props:["customer"],data:function(){return{copyTractorDetails:{tractorModelNo:"",tractorEngineNo:"",tractorChassisNo:""},valid:!1,loading:!1,tractorModelNoRules:[function(t){return!!t||"Tractor model number is required"},function(t){return t.length<=30||"Tractor model number must be less than 30 characters"}],tractorEngineNoRules:[function(t){return!!t||"Tractor engine number is required"},function(t){return t.length<=30||"Tractor engine number must be less than 30 characters"}],tractorChassisNoRules:[function(t){return!!t||"Tractor chassis number is required"},function(t){return t.length<=30||"Tractor chassis number must be less than 30 characters"}]}},created:function(){null!=this.customer.tractorDetails&&(this.copyTractorDetails=this.customer.tractorDetails)},methods:{editTractorDetails:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editTractorDetails",{customerId:this.customer.customerId,payload:{tractorModelNo:this.copyTractorDetails.tractorModelNo,tractorEngineNo:this.copyTractorDetails.tractorEngineNo,tractorChassisNo:this.copyTractorDetails.tractorChassisNo}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing tractor details"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited tractor details"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$emit("update:customer",e.body),t.$emit("update:editTractorDetailsOpen",!1))}))},close:function(){this.$emit("update:editTractorDetailsOpen",!1)}}},qt=jt,Ft=Object(c["a"])(qt,Bt,Rt,!1,null,null,null),At=Ft.exports;d()(Ft,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.customer?i("div",[i("div",[t.editFinalCalculationOpen?i("EditFinalCalculation",{attrs:{customer:t.customer,editFinalCalculationOpen:t.editFinalCalculationOpen},on:{"update:customer":function(e){t.customer=e},"update:editFinalCalculationOpen":function(e){t.editFinalCalculationOpen=e},"update:edit-final-calculation-open":function(e){t.editFinalCalculationOpen=e}}}):i("ShowFinalCalculation",{attrs:{customer:t.customer,editFinalCalculationOpen:t.editFinalCalculationOpen},on:{"update:customer":function(e){t.customer=e},"update:editFinalCalculationOpen":function(e){t.editFinalCalculationOpen=e},"update:edit-final-calculation-open":function(e){t.editFinalCalculationOpen=e}}})],1)]):t._e()},Lt=[],Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[null!=t.customer?i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-calculator")]),t._v("Final Calculation ")],1)],1),null!=t.customer.finalCalculation?i("v-row",t._l(t.fields,(function(e){return i("v-col",{key:e.name,attrs:{cols:"6",md:"2"}},[i("span",{staticClass:"caption blue--text"},[t._v(t._s(e.name))]),i("br"),t._v(" "+t._s(e.value)+" ")])})),1):i("v-row",[i("v-col",{attrs:{cols:"12",md:"3"}},[t._v("No final calculation added")])],1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:t.updateEditFinalCalculationOpen}},[null!=t.customer.finalCalculation?i("v-icon",{attrs:{left:""}},[t._v("edit")]):i("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),null!=t.customer.finalCalculation?i("span",[t._v("Edit")]):i("span",[t._v("Add")])],1)],1)],1):t._e()],1)},Ut=[],zt={name:"ShowFinalCalculation",props:["customer"],data:function(){return{fields:[{name:"Tractor cost",value:this.customer.finalCalculation?this.customer.finalCalculation.tractorCost:""},{name:"Hood",value:this.customer.finalCalculation?this.customer.finalCalculation.hood:""},{name:"Bumper",value:this.customer.finalCalculation?this.customer.finalCalculation.bumper:""},{name:"Hitch",value:this.customer.finalCalculation?this.customer.finalCalculation.hitch:""},{name:"Insurance",value:this.customer.finalCalculation?this.customer.finalCalculation.insurance:""},{name:"Registration",value:this.customer.finalCalculation?this.customer.finalCalculation.registration:""},{name:"Loan expenses",value:this.customer.finalCalculation?this.customer.finalCalculation.loanExp:""},{name:"Rotar",value:this.customer.finalCalculation?this.customer.finalCalculation.rotar:""},{name:"Trailer",value:this.customer.finalCalculation?this.customer.finalCalculation.trailer:""},{name:"Cultivator",value:this.customer.finalCalculation?this.customer.finalCalculation.cultivator:""},{name:"Thresher",value:this.customer.finalCalculation?this.customer.finalCalculation.thresher:""},{name:"Harvesters",value:this.customer.finalCalculation?this.customer.finalCalculation.harvesters:""},{name:"Others",value:this.customer.finalCalculation?this.customer.finalCalculation.others:""},{name:"Total",value:this.customer.finalCalculation?this.customer.finalCalculation.total:""},{name:"Discount",value:this.customer.finalCalculation?this.customer.finalCalculation.discount:""},{name:"Net cost",value:this.customer.finalCalculation?this.customer.finalCalculation.netCost:""},{name:"Village type",value:this.customer.finalCalculation?this.customer.finalCalculation.villageType:""},{name:"Buyer type",value:this.customer.finalCalculation?this.customer.finalCalculation.buyerType:""},{name:"Old vehicle number",value:this.customer.finalCalculation?this.customer.finalCalculation.oldVehicleNumber:""},{name:"Brand name",value:this.customer.finalCalculation?this.customer.finalCalculation.brandName:""},{name:"Model",value:this.customer.finalCalculation?this.customer.finalCalculation.model:""},{name:"Manufacture year",value:this.customer.finalCalculation?this.customer.finalCalculation.manufactureYear:""},{name:"Tax upto",value:this.customer.finalCalculation?this.customer.finalCalculation.taxUpto:""},{name:"Fitness upto",value:this.customer.finalCalculation?this.customer.finalCalculation.fitnessUpto:""},{name:"Insurance upto",value:this.customer.finalCalculation?this.customer.finalCalculation.insuranceUpto:""},{name:"Vehicle price",value:this.customer.finalCalculation?this.customer.finalCalculation.vehiclePrice:""},{name:"Paper cost",value:this.customer.finalCalculation?this.customer.finalCalculation.paperCost:""},{name:"Total cost",value:this.customer.finalCalculation?this.customer.finalCalculation.totalCost:""},{name:"Party account credit",value:this.customer.finalCalculation?this.customer.finalCalculation.partyAccountCredit:""},{name:"Old vehicle sold to",value:this.customer.finalCalculation?this.customer.finalCalculation.oldVehicleSoldTo:""},{name:"Sale price",value:this.customer.finalCalculation?this.customer.finalCalculation.salePrice:""},{name:"Old tractor discount",value:this.customer.finalCalculation?this.customer.finalCalculation.discountOldTractor:""}]}},methods:{updateEditFinalCalculationOpen:function(){this.$emit("update:editFinalCalculationOpen",!0)}}},Ht=zt,Kt=Object(c["a"])(Ht,Wt,Ut,!1,null,null,null),Yt=Kt.exports;d()(Kt,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"]});var Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!=t.customer?i("div",[i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.editFinalCalculation(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-container",[i("v-row",[i("v-chip",{staticClass:"ml-2 mr-2"},[i("v-icon",{attrs:{left:"",color:"accent"}},[t._v("mdi-calculator")]),t._v("Final Calculation ")],1)],1),i("v-row",{staticClass:"mt-2"},t._l(t.fields,(function(e){return i("v-col",{key:e.name,staticClass:"mb-n1",attrs:{cols:"6",md:"2"}},[i("v-text-field",{attrs:{dense:"",rules:t.inputRules,disabled:t.loading,label:e.name,type:e.type,required:""},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"field.value"}})],1)})),1),i("v-row",[i("v-spacer"),i("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.close}},[i("v-icon",{staticClass:"white--text",attrs:{left:""}},[t._v("close")]),t._v("Cancel ")],1),i("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:t.loading,disabled:t.loading},on:{click:t.editFinalCalculation}},[i("v-icon",{attrs:{left:""}},[t._v("save")]),t._v("Save ")],1)],1)],1)],1)],1):t._e()},Jt=[],Xt={name:"EditFinalCalculation",props:["customer"],data:function(){return{fields:[{name:"Tractor cost",value:"",type:"number"},{name:"Hood",value:"",type:"number"},{name:"Bumper",value:"",type:"number"},{name:"Hitch",value:"",type:"number"},{name:"Insurance",value:"",type:"number"},{name:"Registration",value:"",type:"number"},{name:"Loan expenses",value:"",type:"number"},{name:"Rotar",value:"",type:"number"},{name:"Trailer",value:"",type:"number"},{name:"Cultivator",value:"",type:"number"},{name:"Thresher",value:"",type:"number"},{name:"Harvesters",value:"",type:"number"},{name:"Others",value:"",type:"number"},{name:"Total",value:"",type:"number"},{name:"Discount",value:"",type:"number"},{name:"Net cost",value:"",type:"number"},{name:"Village type",value:"",type:"text"},{name:"Buyer type",value:"",type:"text"},{name:"Old vehicle number",value:"",type:"text"},{name:"Brand name",value:"",type:"text"},{name:"Model",value:"",type:"text"},{name:"Manufacture year",value:"",type:"text"},{name:"Tax upto",value:"",type:"text"},{name:"Fitness upto",value:"",type:"text"},{name:"Insurance upto",value:"",type:"text"},{name:"Vehicle price",value:"",type:"number"},{name:"Paper cost",value:"",type:"number"},{name:"Total cost",value:"",type:"number"},{name:"Party account credit",value:"",type:"number"},{name:"Old vehicle sold to",value:"",type:"text"},{name:"Sale price",value:"",type:"number"},{name:"Old tractor discount",value:"",type:"number"}],valid:!1,loading:!1,inputRules:[function(t){return!!t||"This field cannot be empty"}]}},created:function(){null!=this.customer.finalCalculation&&(this.fields[0].value=this.customer.finalCalculation.tractorCost,this.fields[1].value=this.customer.finalCalculation.hood,this.fields[2].value=this.customer.finalCalculation.bumper,this.fields[3].value=this.customer.finalCalculation.hitch,this.fields[4].value=this.customer.finalCalculation.insurance,this.fields[5].value=this.customer.finalCalculation.registration,this.fields[6].value=this.customer.finalCalculation.loanExp,this.fields[7].value=this.customer.finalCalculation.rotar,this.fields[8].value=this.customer.finalCalculation.trailer,this.fields[9].value=this.customer.finalCalculation.cultivator,this.fields[10].value=this.customer.finalCalculation.thresher,this.fields[11].value=this.customer.finalCalculation.harvesters,this.fields[12].value=this.customer.finalCalculation.others,this.fields[13].value=this.customer.finalCalculation.total,this.fields[14].value=this.customer.finalCalculation.discount,this.fields[15].value=this.customer.finalCalculation.netCost,this.fields[16].value=this.customer.finalCalculation.villageType,this.fields[17].value=this.customer.finalCalculation.buyerType,this.fields[18].value=this.customer.finalCalculation.oldVehicleNumber,this.fields[19].value=this.customer.finalCalculation.brandName,this.fields[20].value=this.customer.finalCalculation.model,this.fields[21].value=this.customer.finalCalculation.manufactureYear,this.fields[22].value=this.customer.finalCalculation.taxUpto,this.fields[23].value=this.customer.finalCalculation.fitnessUpto,this.fields[24].value=this.customer.finalCalculation.insuranceUpto,this.fields[25].value=this.customer.finalCalculation.vehiclePrice,this.fields[26].value=this.customer.finalCalculation.paperCost,this.fields[27].value=this.customer.finalCalculation.totalCost,this.fields[28].value=this.customer.finalCalculation.partyAccountCredit,this.fields[29].value=this.customer.finalCalculation.oldVehicleSoldTo,this.fields[30].value=this.customer.finalCalculation.salePrice,this.fields[31].value=this.customer.finalCalculation.discountOldTractor)},methods:{editFinalCalculation:function(){var t=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editFinalCalculation",{customerId:this.customer.customerId,payload:{tractorCost:this.fields[0].value,hood:this.fields[1].value,bumper:this.fields[2].value,hitch:this.fields[3].value,insurance:this.fields[4].value,registration:this.fields[5].value,loanExp:this.fields[6].value,rotar:this.fields[7].value,trailer:this.fields[8].value,cultivator:this.fields[9].value,thresher:this.fields[10].value,harvesters:this.fields[11].value,others:this.fields[12].value,total:this.fields[13].value,discount:this.fields[14].value,netCost:this.fields[15].value,villageType:this.fields[16].value,buyerType:this.fields[17].value,oldVehicleNumber:this.fields[18].value,brandName:this.fields[19].value,model:this.fields[20].value,manufactureYear:this.fields[21].value,taxUpto:this.fields[22].value,fitnessUpto:this.fields[23].value,insuranceUpto:this.fields[24].value,vehiclePrice:this.fields[25].value,paperCost:this.fields[26].value,totalCost:this.fields[27].value,partyAccountCredit:this.fields[28].value,oldVehicleSoldTo:this.fields[29].value,salePrice:this.fields[30].value,discountOldTractor:this.fields[31].value}}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:"Error editing final calculation"}),t.$store.commit("setSnackbarVisibility",{visible:!0})):(t.$store.commit("setSnackbarText",{snackbarText:"Successfully edited final calculation"}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$parent.changeCustomer(e.body),t.$emit("update:editFinalCalculationOpen",!1))}))},close:function(){this.$emit("update:editFinalCalculationOpen",!1)}}},Gt=Xt,Qt=Object(c["a"])(Gt,Zt,Jt,!1,null,null,null),te=Qt.exports;d()(Qt,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:f["a"],VForm:S["a"],VIcon:b["a"],VRow:y["a"],VSpacer:g["a"],VTextField:$["a"]});var ee={name:"Transaction",props:["customer"],components:{ShowFinalCalculation:Yt,EditFinalCalculation:te},data:function(){return{editFinalCalculationOpen:!1}},methods:{changeCustomer:function(t){this.$emit("update:customer",t)}}},ie=ee,oe=Object(c["a"])(ie,Mt,Lt,!1,null,null,null),ae=oe.exports,ne={name:"EditCustomer",components:{EditBooking:N,ShowBooking:C,EditDelivery:ft,ShowDelivery:ut,EditInvoice:Vt,ShowInvoice:_t,EditTractorDetails:At,ShowTractorDetails:Pt,Transaction:ae},data:function(){return{panel:0,customer:null,loading:!1,bookingVisible:!0,deliveryVisible:!1,invoiceVisible:!1,tractorDetailsVisible:!1,transactionVisible:!1,bottomNav:"booking",editBookingOpen:!1,editDeliveryOpen:!1,editInvoiceOpen:!1,editTractorDetailsOpen:!1}},methods:{openBooking:function(){this.bookingVisible=!0,this.deliveryVisible=!1,this.invoiceVisible=!1,this.tractorDetailsVisible=!1,this.transactionVisible=!1},openDelivery:function(){this.bookingVisible=!1,this.deliveryVisible=!0,this.invoiceVisible=!1,this.tractorDetailsVisible=!1,this.transactionVisible=!1},openInvoice:function(){this.bookingVisible=!1,this.deliveryVisible=!1,this.invoiceVisible=!0,this.tractorDetailsVisible=!1,this.transactionVisible=!1},openTractorDetails:function(){this.bookingVisible=!1,this.deliveryVisible=!1,this.invoiceVisible=!1,this.tractorDetailsVisible=!0,this.transactionVisible=!1},openTransaction:function(){this.bookingVisible=!1,this.deliveryVisible=!1,this.invoiceVisible=!1,this.tractorDetailsVisible=!1,this.transactionVisible=!0}},beforeCreate:function(){this.$store.state.loggedIn||(this.$store.commit("setSnackbarText",{snackbarText:"Log in first"}),this.$store.commit("setSnackbarVisibility",{visible:!0}),this.$router.push("/"))},mounted:function(){var t=this;this.loading=!0,this.$store.dispatch("getCustomer",{customerId:this.$route.params.id}).then((function(e){e.error?(t.$store.commit("setSnackbarText",{snackbarText:e.message}),t.$store.commit("setSnackbarVisibility",{visible:!0}),t.$router.push("/view-accounts")):t.customer=e.body,t.loading=!1}))}},le=ne,se=(i("c7cd"),i("dd43"),i("3a66")),re=i("604c"),ce=re["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return re["a"].options.computed.classes.call(this)}},methods:{genData:re["a"].options.methods.genData}}),ue=i("24b2"),de=i("a452"),ve=i("277e");function me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?me(i,!0).forEach((function(e){Object(F["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):me(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var he=Object(H["a"])(Object(se["a"])("bottom",["height","inputValue"]),W["a"],ue["a"],Object(z["b"])("inputValue"),de["a"],ve["a"],U["a"]).extend({name:"v-bottom-navigation",props:{activeClass:{type:String,default:"v-btn--active"},backgroundColor:String,grow:Boolean,height:{type:[Number,String],default:56},hideOnScroll:Boolean,horizontal:Boolean,inputValue:{type:Boolean,default:!0},mandatory:Boolean,shift:Boolean},data:function(){return{isActive:this.inputValue}},computed:{canScroll:function(){return ve["a"].options.computed.canScroll.call(this)&&(this.hideOnScroll||!this.inputValue)},classes:function(){return{"v-bottom-navigation--absolute":this.absolute,"v-bottom-navigation--grow":this.grow,"v-bottom-navigation--fixed":!this.absolute&&(this.app||this.fixed),"v-bottom-navigation--horizontal":this.horizontal,"v-bottom-navigation--shift":this.shift}},styles:function(){return pe({},this.measurableStyles,{transform:this.isActive?"none":"translateY(100%)"})}},created:function(){this.$attrs.hasOwnProperty("active")&&Object(at["a"])("active.sync","value or v-model",this)},methods:{thresholdMet:function(){this.isActive=!this.isScrollingUp,this.$emit("update:input-value",this.isActive)},updateApplication:function(){return this.$el?this.$el.clientHeight:0},updateValue:function(t){this.$emit("change",t)}},render:function(t){var e=this.setBackgroundColor(this.backgroundColor,{staticClass:"v-bottom-navigation",class:this.classes,style:this.styles,props:{activeClass:this.activeClass,mandatory:Boolean(this.mandatory||void 0!==this.value),value:this.internalValue},on:{change:this.updateValue}});return this.canScroll&&(e.directives=e.directives||[],e.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t(ce,this.setTextColor(this.color,e),this.$slots.default)}}),fe=i("490a"),be=i("71d9"),ye=i("2a7f"),ge=Object(c["a"])(le,o,a,!1,null,null,null);e["default"]=ge.exports;d()(ge,{VBottomNavigation:he,VBtn:m["a"],VIcon:b["a"],VProgressCircular:fe["a"],VToolbar:be["a"],VToolbarTitle:ye["a"]})},"0dc4":function(t,e,i){},"368e":function(t,e,i){},"3c93":function(t,e,i){},4645:function(t,e,i){"use strict";var o=i("5406"),a=i.n(o);a.a},5406:function(t,e,i){},"99d9":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return r}));var o=i("b0af"),a=i("80d2"),n=Object(a["i"])("v-card__actions"),l=Object(a["i"])("v-card__subtitle"),s=Object(a["i"])("v-card__text"),r=Object(a["i"])("v-card__title");o["a"]},a544:function(t,e,i){"use strict";var o=i("0dc4"),a=i.n(o);a.a},dd43:function(t,e,i){}}]);
//# sourceMappingURL=chunk-d0d18b2a.5d7f0eb1.js.map