(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cfb9c36"],{"0311":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return null!=e.customer?o("div",[o("v-toolbar",{attrs:{flat:"",color:"grey lighten-3"}},[o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$router.go(-1)}}},[o("v-icon",[e._v("mdi-arrow-left")])],1),o("v-toolbar-title",[e._v("Back")])],1),e.loading?o("div",{staticClass:"text-center"},[o("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):o("div",[e.bookingVisible?o("div",[e.editBookingOpen?o("EditBooking",{attrs:{customer:e.customer,editBookingOpen:e.editBookingOpen},on:{"update:customer":function(t){e.customer=t},"update:editBookingOpen":function(t){e.editBookingOpen=t},"update:edit-booking-open":function(t){e.editBookingOpen=t}}}):o("ShowBooking",{attrs:{customer:e.customer,editBookingOpen:e.editBookingOpen},on:{"update:customer":function(t){e.customer=t},"update:editBookingOpen":function(t){e.editBookingOpen=t},"update:edit-booking-open":function(t){e.editBookingOpen=t}}})],1):e._e(),e.deliveryVisible?o("div",[e.editDeliveryOpen?o("EditDelivery",{attrs:{customer:e.customer,editDeliveryOpen:e.editDeliveryOpen},on:{"update:customer":function(t){e.customer=t},"update:editDeliveryOpen":function(t){e.editDeliveryOpen=t},"update:edit-delivery-open":function(t){e.editDeliveryOpen=t}}}):o("ShowDelivery",{attrs:{customer:e.customer,editDeliveryOpen:e.editDeliveryOpen},on:{"update:customer":function(t){e.customer=t},"update:editDeliveryOpen":function(t){e.editDeliveryOpen=t},"update:edit-delivery-open":function(t){e.editDeliveryOpen=t}}})],1):e._e(),e.invoiceVisible?o("div",[e.editInvoiceOpen?o("EditInvoice",{attrs:{customer:e.customer,editInvoiceOpen:e.editInvoiceOpen},on:{"update:customer":function(t){e.customer=t},"update:editInvoiceOpen":function(t){e.editInvoiceOpen=t},"update:edit-invoice-open":function(t){e.editInvoiceOpen=t}}}):o("ShowInvoice",{attrs:{customer:e.customer,editInvoiceOpen:e.editInvoiceOpen},on:{"update:customer":function(t){e.customer=t},"update:editInvoiceOpen":function(t){e.editInvoiceOpen=t},"update:edit-invoice-open":function(t){e.editInvoiceOpen=t}}})],1):e._e(),o("v-bottom-navigation",{attrs:{app:"",color:"primary",grow:""},model:{value:e.bottomNav,callback:function(t){e.bottomNav=t},expression:"bottomNav"}},[o("v-btn",{attrs:{value:"booking"},on:{click:e.openBooking}},[o("span",[e._v("Booking")]),o("v-icon",[e._v("mdi-notebook")])],1),o("v-btn",{attrs:{value:"delivery"},on:{click:e.openDelivery}},[o("span",[e._v("Delivery")]),o("v-icon",[e._v("mdi-truck-delivery")])],1),o("v-btn",{attrs:{value:"invoice"},on:{click:e.openInvoice}},[o("span",[e._v("Invoice")]),o("v-icon",[e._v("mdi-newspaper")])],1)],1)],1)],1):e._e()},n=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[null!=e.customer&&null!=e.customer.booking?o("v-container",[o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-account")]),e._v("Personal Information ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-row",[o("v-avatar",{staticClass:"ma-2",attrs:{slot:"prepend-icon",color:"accent",size:"40px"},slot:"prepend-icon"},[null!=e.customer&&null!=e.customer.image&&null!=e.customer.image.data?o("img",{staticClass:"center-cropped",attrs:{src:"data:image/*;base64,"+e.customer.image.data}}):o("v-icon",{attrs:{size:"40px",color:"white"}},[e._v("mdi-account")])],1),o("div",[o("span",{staticClass:"caption blue--text"},[e._v("Booking name")]),o("br"),e._v(" "+e._s(e.customer.booking.bookingName)+" ")])],1)],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Nick name")]),o("br"),e._v(" "+e._s(e.customer.booking.nickName)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Son of")]),o("br"),e._v(" "+e._s(e.customer.booking.sonOf)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-earth")]),e._v("Address ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Village")]),o("br"),e._v(" "+e._s(e.customer.booking.village)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Post")]),o("br"),e._v(" "+e._s(e.customer.booking.post)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Police station")]),o("br"),e._v(" "+e._s(e.customer.booking.policeStation)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Dist")]),o("br"),e._v(" "+e._s(e.customer.booking.dist)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-phone")]),e._v("Phone numbers ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Mobile")]),o("br"),e._v(" "+e._s(e.customer.booking.mobile)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Whatsapp")]),o("br"),e._v(" "+e._s(e.customer.booking.whatsapp)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-chevron-right")]),e._v("Others ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Challan")]),o("br"),e._v(" "+e._s(e.customer.booking.challanNo)+" ")])],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:e.updateEditBookingOpen}},[o("v-icon",{attrs:{left:""}},[e._v("edit")]),e._v("Edit Booking ")],1)],1)],1):e._e()],1)},a=[],l={name:"ShowBooking",props:["customer","editBookingOpen"],methods:{updateEditBookingOpen:function(){this.$emit("update:editBookingOpen",!0)}}},c=l,r=(o("0a92"),o("2877")),u=o("6544"),v=o.n(u),d=o("8212"),m=o("8336"),p=o("cc20"),h=o("62ad"),b=o("a523"),f=o("132d"),y=o("0fd9"),g=o("2fa4"),k=Object(r["a"])(c,s,a,!1,null,"f32073cc",null),_=k.exports;v()(k,{VAvatar:d["a"],VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VIcon:f["a"],VRow:y["a"],VSpacer:g["a"]});var x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[null!=e.customer&&null!=e.customer.booking?o("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.editBooking(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-container",[o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-account")]),e._v("Personal Information ")],1)],1),o("v-row",[o("v-col",{staticClass:"align-center d-flex flex-row",attrs:{cols:"12",md:"4"}},[null!=e.imgUrl||null!=e.customer&&null!=e.customer.image&&null!=e.customer.image.data?o("v-avatar",{attrs:{slot:"prepend-icon",color:"accent",size:"64px"},slot:"prepend-icon"},[null!=e.imgUrl?o("img",{staticClass:"center-cropped",attrs:{src:e.imgUrl}}):o("img",{staticClass:"center-cropped",attrs:{src:"data:image/*;base64,"+e.customer.image.data}})]):o("v-icon",[e._v("mdi-camera")]),o("v-file-input",{staticClass:"ml-2",attrs:{"prepend-icon":null,accept:"image/png, image/jpeg, image/bmp",label:"Photo"},on:{change:e.photoChanged},model:{value:e.photo,callback:function(t){e.photo=t},expression:"photo"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.bookingnameRules,counter:30,disabled:e.loading,label:"Booking name",required:""},model:{value:e.customer.booking.bookingName,callback:function(t){e.$set(e.customer.booking,"bookingName",t)},expression:"customer.booking.bookingName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.nicknameRules,counter:15,disabled:e.loading,label:"Nick name (optional)",required:""},model:{value:e.customer.booking.nickName,callback:function(t){e.$set(e.customer.booking,"nickName",t)},expression:"customer.booking.nickName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.sonofRules,counter:30,label:"Son of",required:""},model:{value:e.customer.booking.sonOf,callback:function(t){e.$set(e.customer.booking,"sonOf",t)},expression:"customer.booking.sonOf"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-earth")]),e._v("Address ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.villageRules,counter:20,disabled:e.loading,label:"Village",required:""},model:{value:e.customer.booking.village,callback:function(t){e.$set(e.customer.booking,"village",t)},expression:"customer.booking.village"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.postRules,counter:20,label:"Post",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyVillageToPost(t):null)}},model:{value:e.customer.booking.post,callback:function(t){e.$set(e.customer.booking,"post",t)},expression:"customer.booking.post"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.policestationRules,counter:20,label:"Police station",disabled:e.loading,required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyPostToPoliceStation(t):null)}},model:{value:e.customer.booking.policeStation,callback:function(t){e.$set(e.customer.booking,"policeStation",t)},expression:"customer.booking.policeStation"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.distRules,counter:20,label:"District",required:""},model:{value:e.customer.booking.dist,callback:function(t){e.$set(e.customer.booking,"dist",t)},expression:"customer.booking.dist"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-phone")]),e._v("Phone numbers ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.mobileRules,counter:10,disabled:e.loading,type:"number",label:"Mobile number",required:""},model:{value:e.customer.booking.mobile,callback:function(t){e.$set(e.customer.booking,"mobile",t)},expression:"customer.booking.mobile"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.whatsappRules,counter:10,type:"number",disabled:e.loading,label:"Whatsapp number (optional)",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyMobileToWhatsapp(t):null)}},model:{value:e.customer.booking.whatsapp,callback:function(t){e.$set(e.customer.booking,"whatsapp",t)},expression:"customer.booking.whatsapp"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-chevron-right")]),e._v("Others ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.challanRules,counter:10,label:"Challan number",required:""},model:{value:e.customer.booking.challanNo,callback:function(t){e.$set(e.customer.booking,"challanNo",t)},expression:"customer.booking.challanNo"}})],1)],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:e.loading,disabled:e.loading},on:{click:e.close}},[o("v-icon",{staticClass:"white--text",attrs:{left:""}},[e._v("close")]),e._v("Cancel ")],1),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:e.loading,disabled:e.loading},on:{click:e.editBooking}},[o("v-icon",{attrs:{left:""}},[e._v("save")]),e._v("Save ")],1)],1)],1)],1):e._e()],1)},w=[],C=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("4f4e")),O=new C,D={name:"EditBooking",props:["customer"],data:function(){return{imgUrl:null,photo:null,photoBlob:null,valid:!1,loading:!1,bookingnameRules:[function(e){return!!e||"Booking name is required"},function(e){return e.length<=30||"Booking name must be less than 30 characters"}],nicknameRules:[function(e){return e.length<=15||"Nick name must be less than 15 characters"}],sonofRules:[function(e){return!!e||"Son of field is required"},function(e){return e.length<=30||"Son of field must be less than 30 characters"}],villageRules:[function(e){return!!e||"Village is required"},function(e){return e.length<=20||"Village must be less than 20 characters"}],postRules:[function(e){return!!e||"Post is required"},function(e){return e.length<=20||"Post must be less than 20 characters"}],policestationRules:[function(e){return!!e||"Police station is required"},function(e){return e.length<=20||"Police station must be less than 20 characters"}],distRules:[function(e){return!!e||"District is required"},function(e){return e.length<=20||"District must be less than 20 characters"}],mobileRules:[function(e){return!!e||"Mobile is required"},function(e){return 10==e.length||"Mobile number should be of 10 digits"}],whatsappRules:[function(e){return 10==e.length||0==e.length||"Whatsapp number should be of 10 digits"}],challanRules:[function(e){return!!e||"Challan is required"},function(e){return e.length<=10||"Challan must be less than 10 characters"}]}},methods:{copyMobileToWhatsapp:function(){this.whatsapp=this.mobile},copyVillageToPost:function(){this.post=this.village},copyPostToPoliceStation:function(){this.policestation=this.post},photoChanged:function(){var e=this;if(null!=this.photo){this.imgUrl=URL.createObjectURL(this.photo),this.loading=!0;var t=[this.photo];O.compress(t,{size:.05,quality:1,maxWidth:250,maxHeight:250,resize:!0}).then((function(t){var o=t[0],i=o.data,n=o.ext,s=C.convertBase64ToFile(i,n);e.photoBlob=s,e.loading=!1}))}else this.imgUrl=null},editPhoto:function(){var e=this;null!=this.photo?this.$store.dispatch("editPhoto",{customerId:this.customer.customerId,file:this.photoBlob}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Booking edited. Error edited photo. Try again"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):(e.$store.commit("setSnackbarText",{snackbarText:"Booking edited. Photo edited."}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$emit("update:customer",t.body),e.$emit("update:editBookingOpen",!1)),e.loading=!1})):(this.loading=!1,this.$store.commit("setSnackbarText",{snackbarText:"Booking edited"}),this.$store.commit("setSnackbarVisibility",{visible:!0}),this.$emit("update:editBookingOpen",!1))},editBooking:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editBooking",{customerId:this.customer.customerId,payload:{bookingName:this.customer.booking.bookingName,sonOf:this.customer.booking.sonOf,nickName:this.customer.booking.nickName,village:this.customer.booking.village,post:this.customer.booking.post,policeStation:this.customer.booking.policeStation,dist:this.customer.booking.dist,mobile:this.customer.booking.mobile,whatsapp:this.customer.booking.whatsapp,challanNo:this.customer.booking.challanNo}}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Error editing booking"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):e.$emit("update:customer",t.body),e.editPhoto()}))},close:function(){this.$emit("update:editBookingOpen",!1)}}},I=D,S=(o("589c"),o("23a7")),$=o("4bd4"),V=o("8654"),N=Object(r["a"])(I,x,w,!1,null,"74265d48",null),T=N.exports;v()(N,{VAvatar:d["a"],VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VFileInput:S["a"],VForm:$["a"],VIcon:f["a"],VRow:y["a"],VSpacer:g["a"],VTextField:V["a"]});var B=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[null!=e.customer&&null!=e.customer.delivery?o("v-container",[o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-account")]),e._v("Personal Information ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Delivery name")]),o("br"),e._v(" "+e._s(e.customer.delivery.deliveryName)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Nick name")]),o("br"),e._v(" "+e._s(e.customer.delivery.nickName)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Son of")]),o("br"),e._v(" "+e._s(e.customer.delivery.sonOf)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-earth")]),e._v("Address ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Village")]),o("br"),e._v(" "+e._s(e.customer.delivery.village)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Post")]),o("br"),e._v(" "+e._s(e.customer.delivery.post)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Police station")]),o("br"),e._v(" "+e._s(e.customer.delivery.policeStation)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Dist")]),o("br"),e._v(" "+e._s(e.customer.delivery.dist)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-phone")]),e._v("Phone numbers ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Mobile")]),o("br"),e._v(" "+e._s(e.customer.delivery.mobile)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Whatsapp")]),o("br"),e._v(" "+e._s(e.customer.delivery.whatsapp)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-chevron-right")]),e._v("Others ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Challan")]),o("br"),e._v(" "+e._s(e.customer.delivery.challanNo)+" ")])],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:e.updateEditDeliveryOpen}},[o("v-icon",{attrs:{left:""}},[e._v("edit")]),e._v("Edit Delivery ")],1)],1)],1):o("v-container",[o("v-row",{staticClass:"justify-center ma-2"},[e._v("No delivery added")]),o("v-row",{staticClass:"justify-center ma-2"},[o("v-btn",{attrs:{color:"primary",rounded:""},on:{click:e.updateEditDeliveryOpen}},[o("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Add delivery ")],1)],1),o("v-row",{staticClass:"justify-center ma-2"},[o("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[o("v-btn",e._g({attrs:{color:"accent",rounded:""}},i),[o("v-icon",{attrs:{left:""}},[e._v("mdi-content-copy")]),e._v("Copy Booking to Delivery ")],1)]}}]),model:{value:e.showCopyDialog,callback:function(t){e.showCopyDialog=t},expression:"showCopyDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("Copy Booking to Delivery")]),o("v-card-text",[o("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.copyBookingToDelivery(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{attrs:{rules:e.challanRules,counter:10,label:"Challan",required:""},model:{value:e.challan,callback:function(t){e.challan=t},expression:"challan"}})],1),o("v-row",[o("v-spacer"),o("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.showCopyDialog=!1}}},[e._v("Cancel")]),o("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:e.copyBookingToDelivery}},[e._v("Copy")])],1)],1)],1)],1)],1)],1)],1)},P=[],R={name:"ShowDelivery",props:["customer"],data:function(){return{showCopyDialog:!1,challan:"",valid:!1,challanRules:[function(e){return!!e||"Challan is required"},function(e){return e.length<=10||"Challan must be less than 10 characters"}]}},methods:{updateEditDeliveryOpen:function(){this.$emit("update:editDeliveryOpen",!0)},copyBookingToDelivery:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editDelivery",{customerId:this.customer.customerId,payload:{deliveryName:this.customer.booking.bookingName,sonOf:this.customer.booking.sonOf,nickName:this.customer.booking.nickName,village:this.customer.booking.village,post:this.customer.booking.post,policeStation:this.customer.booking.policeStation,dist:this.customer.booking.dist,mobile:this.customer.booking.mobile,whatsapp:this.customer.booking.whatsapp,challanNo:this.challan}}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Error editing delivery"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):(e.$store.commit("setSnackbarText",{snackbarText:"Successfully edited delivery"}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$emit("update:customer",t.body),e.$emit("update:editDeliveryOpen",!1),e.showCopyDialog=!1)}))}}},q=R,j=o("b0af"),E=o("99d9"),A=(o("a4d3"),o("4de4"),o("4160"),o("caad"),o("45fc"),o("a9e3"),o("e439"),o("dbb4"),o("b64b"),o("2532"),o("498a"),o("159b"),o("2fa7")),M=(o("368e"),o("4ad4")),W=o("b848"),F=o("75eb"),z=o("e707"),K=o("e4d3"),U=o("21be"),L=o("f2e7"),Z=o("a293"),H=o("80d2"),J=o("bfc5"),Y=o("58df"),G=o("d9bd");function Q(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function X(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Q(o,!0).forEach((function(t){Object(A["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Q(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var ee=Object(Y["a"])(M["a"],W["a"],F["a"],z["a"],K["a"],U["a"],L["a"]),te=ee.extend({name:"v-dialog",directives:{ClickOutside:Z["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes:function(){var e;return e={},Object(A["a"])(e,"v-dialog ".concat(this.contentClass).trim(),!0),Object(A["a"])(e,"v-dialog--active",this.isActive),Object(A["a"])(e,"v-dialog--persistent",this.persistent),Object(A["a"])(e,"v-dialog--fullscreen",this.fullscreen),Object(A["a"])(e,"v-dialog--scrollable",this.scrollable),Object(A["a"])(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(G["d"])("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&(this.$emit("click:outside"),this.persistent?(!this.noClickAnimation&&this.animateClick(),!1):this.activeZIndex>=this.getMaxZIndex())},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):z["a"].options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$refs.content.focus(),e.bind()}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onKeydown:function(e){if(e.keyCode===H["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var o=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');o.length&&o[0].focus()}}}},render:function(e){var t=this,o=[],i={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:function(){t.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function(e){e.stopPropagation()}},style:{}};this.fullscreen||(i.style={maxWidth:"none"===this.maxWidth?void 0:Object(H["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(H["g"])(this.width)}),o.push(this.genActivator());var n=e("div",i,this.showLazyContent(this.getContentSlot()));return this.transition&&(n=e("transition",{props:{name:this.transition,origin:this.origin}},[n])),o.push(e("div",{class:this.contentClasses,attrs:X({role:"document",tabindex:this.isActive?0:void 0},this.getScopeIdAttrs()),on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(J["a"],{props:{root:!0,light:this.light,dark:this.dark}},[n])])),e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},o)}}),oe=Object(r["a"])(q,B,P,!1,null,null,null),ie=oe.exports;v()(oe,{VBtn:m["a"],VCard:j["a"],VCardText:E["c"],VCardTitle:E["d"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VDialog:te,VForm:$["a"],VIcon:f["a"],VRow:y["a"],VSpacer:g["a"],VTextField:V["a"]});var ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return null!=e.customer?o("div",[o("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.editDelivery(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-container",[o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-account")]),e._v("Personal Information ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.deliverynameRules,value:"ge",counter:30,disabled:e.loading,label:"Delivery name",required:""},model:{value:e.copyDelivery.deliveryName,callback:function(t){e.$set(e.copyDelivery,"deliveryName",t)},expression:"copyDelivery.deliveryName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.nicknameRules,counter:15,disabled:e.loading,label:"Nick name (optional)",required:""},model:{value:e.copyDelivery.nickName,callback:function(t){e.$set(e.copyDelivery,"nickName",t)},expression:"copyDelivery.nickName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.sonofRules,counter:30,label:"Son of",required:""},model:{value:e.copyDelivery.sonOf,callback:function(t){e.$set(e.copyDelivery,"sonOf",t)},expression:"copyDelivery.sonOf"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-earth")]),e._v("Address ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.villageRules,counter:20,disabled:e.loading,label:"Village",required:""},model:{value:e.copyDelivery.village,callback:function(t){e.$set(e.copyDelivery,"village",t)},expression:"copyDelivery.village"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.postRules,counter:20,label:"Post",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyVillageToPost(t):null)}},model:{value:e.copyDelivery.post,callback:function(t){e.$set(e.copyDelivery,"post",t)},expression:"copyDelivery.post"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.policestationRules,counter:20,label:"Police station",disabled:e.loading,required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyPostToPoliceStation(t):null)}},model:{value:e.copyDelivery.policeStation,callback:function(t){e.$set(e.copyDelivery,"policeStation",t)},expression:"copyDelivery.policeStation"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.distRules,counter:20,label:"District",required:""},model:{value:e.copyDelivery.dist,callback:function(t){e.$set(e.copyDelivery,"dist",t)},expression:"copyDelivery.dist"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-phone")]),e._v("Phone numbers ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.mobileRules,counter:10,disabled:e.loading,type:"number",label:"Mobile number",required:""},model:{value:e.copyDelivery.mobile,callback:function(t){e.$set(e.copyDelivery,"mobile",t)},expression:"copyDelivery.mobile"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.whatsappRules,counter:10,type:"number",disabled:e.loading,label:"Whatsapp number (optional)",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyMobileToWhatsapp(t):null)}},model:{value:e.copyDelivery.whatsapp,callback:function(t){e.$set(e.copyDelivery,"whatsapp",t)},expression:"copyDelivery.whatsapp"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-chevron-right")]),e._v("Others ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.challanRules,counter:10,label:"Challan number",required:""},model:{value:e.copyDelivery.challanNo,callback:function(t){e.$set(e.copyDelivery,"challanNo",t)},expression:"copyDelivery.challanNo"}})],1)],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:e.loading,disabled:e.loading},on:{click:e.close}},[o("v-icon",{staticClass:"white--text",attrs:{left:""}},[e._v("close")]),e._v("Cancel ")],1),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:e.loading,disabled:e.loading},on:{click:e.editDelivery}},[o("v-icon",{attrs:{left:""}},[e._v("save")]),e._v("Save ")],1)],1)],1)],1)],1):e._e()},se=[],ae={name:"EditDelivery",props:["customer"],data:function(){return{copyDelivery:{deliveryName:"",nickName:"",sonOf:"",village:"",post:"",policeStation:"",dist:"",mobile:"",whatsapp:"",challanNo:""},valid:!1,loading:!1,deliverynameRules:[function(e){return!!e||"Delivery name is required"},function(e){return e.length<=30||"Delivery name must be less than 30 characters"}],nicknameRules:[function(e){return e.length<=15||"Nick name must be less than 15 characters"}],sonofRules:[function(e){return!!e||"Son of field is required"},function(e){return e.length<=30||"Son of field must be less than 30 characters"}],villageRules:[function(e){return!!e||"Village is required"},function(e){return e.length<=20||"Village must be less than 20 characters"}],postRules:[function(e){return!!e||"Post is required"},function(e){return e.length<=20||"Post must be less than 20 characters"}],policestationRules:[function(e){return!!e||"Police station is required"},function(e){return e.length<=20||"Police station must be less than 20 characters"}],distRules:[function(e){return!!e||"District is required"},function(e){return e.length<=20||"District must be less than 20 characters"}],mobileRules:[function(e){return!!e||"Mobile is required"},function(e){return 10==e.length||"Mobile number should be of 10 digits"}],whatsappRules:[function(e){return 10==e.length||0==e.length||"Whatsapp number should be of 10 digits"}],challanRules:[function(e){return!!e||"Challan is required"},function(e){return e.length<=10||"Challan must be less than 10 characters"}]}},created:function(){null!=this.customer.delivery&&(this.copyDelivery=this.customer.delivery)},methods:{copyMobileToWhatsapp:function(){this.copyDelivery.whatsapp=this.copyDelivery.mobile},copyVillageToPost:function(){this.copyDelivery.post=this.copyDelivery.village},copyPostToPoliceStation:function(){this.copyDelivery.policeStation=this.copyDelivery.post},editDelivery:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editDelivery",{customerId:this.customer.customerId,payload:{deliveryName:this.copyDelivery.deliveryName,sonOf:this.copyDelivery.sonOf,nickName:this.copyDelivery.nickName,village:this.copyDelivery.village,post:this.copyDelivery.post,policeStation:this.copyDelivery.policeStation,dist:this.copyDelivery.dist,mobile:this.copyDelivery.mobile,whatsapp:this.copyDelivery.whatsapp,challanNo:this.copyDelivery.challanNo}}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Error editing delivery"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):(e.$store.commit("setSnackbarText",{snackbarText:"Successfully edited delivery"}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$emit("update:customer",t.body),e.$emit("update:editDeliveryOpen",!1))}))},close:function(){this.$emit("update:editDeliveryOpen",!1)}}},le=ae,ce=Object(r["a"])(le,ne,se,!1,null,null,null),re=ce.exports;v()(ce,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VForm:$["a"],VIcon:f["a"],VRow:y["a"],VSpacer:g["a"],VTextField:V["a"]});var ue=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[null!=e.customer&&null!=e.customer.invoice?o("v-container",[o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-account")]),e._v("Personal Information ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Invoice name")]),o("br"),e._v(" "+e._s(e.customer.invoice.invoiceName)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Nick name")]),o("br"),e._v(" "+e._s(e.customer.invoice.nickName)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Son of")]),o("br"),e._v(" "+e._s(e.customer.invoice.sonOf)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-earth")]),e._v("Address ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Village")]),o("br"),e._v(" "+e._s(e.customer.invoice.village)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Post")]),o("br"),e._v(" "+e._s(e.customer.invoice.post)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Police station")]),o("br"),e._v(" "+e._s(e.customer.invoice.policeStation)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Dist")]),o("br"),e._v(" "+e._s(e.customer.invoice.dist)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-phone")]),e._v("Phone numbers ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Mobile")]),o("br"),e._v(" "+e._s(e.customer.invoice.mobile)+" ")]),o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Whatsapp")]),o("br"),e._v(" "+e._s(e.customer.invoice.whatsapp)+" ")])],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-chevron-right")]),e._v("Others ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("span",{staticClass:"caption blue--text"},[e._v("Challan")]),o("br"),e._v(" "+e._s(e.customer.invoice.challanNo)+" ")])],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:"accent",rounded:""},on:{click:e.updateEditInvoiceOpen}},[o("v-icon",{attrs:{left:""}},[e._v("edit")]),e._v("Edit Invoice ")],1)],1)],1):o("v-container",[o("v-row",{staticClass:"justify-center ma-2"},[e._v("No invoice added")]),o("v-row",{staticClass:"justify-center ma-2"},[o("v-btn",{attrs:{color:"primary",rounded:""},on:{click:e.updateEditInvoiceOpen}},[o("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Add invoice ")],1)],1),o("v-row",{staticClass:"justify-center ma-2"},[o("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[o("v-btn",e._g({attrs:{color:"accent",rounded:""}},i),[o("v-icon",{attrs:{left:""}},[e._v("mdi-content-copy")]),e._v("Copy Booking to Invoice ")],1)]}}]),model:{value:e.showCopyDialog,callback:function(t){e.showCopyDialog=t},expression:"showCopyDialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("Copy Booking to Invoice")]),o("v-card-text",[o("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.copyBookingToInvoice(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{attrs:{rules:e.challanRules,counter:10,label:"Challan",required:""},model:{value:e.challan,callback:function(t){e.challan=t},expression:"challan"}})],1),o("v-row",[o("v-spacer"),o("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.showCopyDialog=!1}}},[e._v("Cancel")]),o("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:e.copyBookingToInvoice}},[e._v("Copy")])],1)],1)],1)],1)],1),o("v-row",{staticClass:"justify-center ma-2"},[o("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[o("v-btn",e._g({attrs:{color:"accent",rounded:""}},i),[o("v-icon",{attrs:{left:""}},[e._v("mdi-content-copy")]),e._v("Copy Delivery to Invoice ")],1)]}}]),model:{value:e.showCopyDialog2,callback:function(t){e.showCopyDialog2=t},expression:"showCopyDialog2"}},[o("v-card",[o("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("Copy Delivery to Invoice")]),o("v-card-text",[o("v-form",{ref:"form2",on:{submit:function(t){return t.preventDefault(),e.copyDeliveryToInvoice(t)}},model:{value:e.valid2,callback:function(t){e.valid2=t},expression:"valid2"}},[o("v-text-field",{attrs:{rules:e.challanRules,counter:10,label:"Challan",required:""},model:{value:e.challan2,callback:function(t){e.challan2=t},expression:"challan2"}})],1),o("v-row",[o("v-spacer"),o("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.showCopyDialog2=!1}}},[e._v("Cancel")]),o("v-btn",{attrs:{type:"submit",color:"primary",text:""},on:{click:e.copyDeliveryToInvoice}},[e._v("Copy")])],1)],1)],1)],1)],1)],1)],1)},ve=[],de={name:"ShowInvoice",props:["customer"],data:function(){return{showCopyDialog:!1,showCopyDialog2:!1,challan:"",challan2:"",valid:!1,valid2:!1,challanRules:[function(e){return!!e||"Challan is required"},function(e){return e.length<=10||"Challan must be less than 10 characters"}]}},methods:{updateEditInvoiceOpen:function(){this.$emit("update:editInvoiceOpen",!0)},copyBookingToInvoice:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editInvoice",{customerId:this.customer.customerId,payload:{invoiceName:this.customer.booking.bookingName,sonOf:this.customer.booking.sonOf,nickName:this.customer.booking.nickName,village:this.customer.booking.village,post:this.customer.booking.post,policeStation:this.customer.booking.policeStation,dist:this.customer.booking.dist,mobile:this.customer.booking.mobile,whatsapp:this.customer.booking.whatsapp,challanNo:this.challan}}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Error editing invoice"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):(e.$store.commit("setSnackbarText",{snackbarText:"Successfully edited invoice"}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$emit("update:customer",t.body),e.$emit("update:editInvoiceOpen",!1),e.showCopyDialog=!1)}))},copyDeliveryToInvoice:function(){var e=this;this.$refs.form2.validate(),this.valid2&&this.$store.dispatch("editInvoice",{customerId:this.customer.customerId,payload:{invoiceName:this.customer.delivery.bookingName,sonOf:this.customer.delivery.sonOf,nickName:this.customer.delivery.nickName,village:this.customer.delivery.village,post:this.customer.delivery.post,policeStation:this.customer.delivery.policeStation,dist:this.customer.delivery.dist,mobile:this.customer.delivery.mobile,whatsapp:this.customer.delivery.whatsapp,challanNo:this.challan2}}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Error editing invoice"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):(e.$store.commit("setSnackbarText",{snackbarText:"Successfully edited invoice"}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$emit("update:customer",t.body),e.$emit("update:editInvoiceOpen",!1),e.showCopyDialog2=!1)}))}}},me=de,pe=Object(r["a"])(me,ue,ve,!1,null,null,null),he=pe.exports;v()(pe,{VBtn:m["a"],VCard:j["a"],VCardText:E["c"],VCardTitle:E["d"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VDialog:te,VForm:$["a"],VIcon:f["a"],VRow:y["a"],VSpacer:g["a"],VTextField:V["a"]});var be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return null!=e.customer?o("div",[o("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.editInvoice(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-container",[o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-account")]),e._v("Personal Information ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.invoicenameRules,value:"ge",counter:30,disabled:e.loading,label:"Invoice name",required:""},model:{value:e.copyInvoice.invoiceName,callback:function(t){e.$set(e.copyInvoice,"invoiceName",t)},expression:"copyInvoice.invoiceName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.nicknameRules,counter:15,disabled:e.loading,label:"Nick name (optional)",required:""},model:{value:e.copyInvoice.nickName,callback:function(t){e.$set(e.copyInvoice,"nickName",t)},expression:"copyInvoice.nickName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.sonofRules,counter:30,label:"Son of",required:""},model:{value:e.copyInvoice.sonOf,callback:function(t){e.$set(e.copyInvoice,"sonOf",t)},expression:"copyInvoice.sonOf"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-earth")]),e._v("Address ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.villageRules,counter:20,disabled:e.loading,label:"Village",required:""},model:{value:e.copyInvoice.village,callback:function(t){e.$set(e.copyInvoice,"village",t)},expression:"copyInvoice.village"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.postRules,counter:20,label:"Post",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyVillageToPost(t):null)}},model:{value:e.copyInvoice.post,callback:function(t){e.$set(e.copyInvoice,"post",t)},expression:"copyInvoice.post"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.policestationRules,counter:20,label:"Police station",disabled:e.loading,required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyPostToPoliceStation(t):null)}},model:{value:e.copyInvoice.policeStation,callback:function(t){e.$set(e.copyInvoice,"policeStation",t)},expression:"copyInvoice.policeStation"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.distRules,counter:20,label:"District",required:""},model:{value:e.copyInvoice.dist,callback:function(t){e.$set(e.copyInvoice,"dist",t)},expression:"copyInvoice.dist"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-phone")]),e._v("Phone numbers ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.mobileRules,counter:10,disabled:e.loading,type:"number",label:"Mobile number",required:""},model:{value:e.copyInvoice.mobile,callback:function(t){e.$set(e.copyInvoice,"mobile",t)},expression:"copyInvoice.mobile"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{rules:e.whatsappRules,counter:10,type:"number",disabled:e.loading,label:"Whatsapp number (optional)",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey?e.copyMobileToWhatsapp(t):null)}},model:{value:e.copyInvoice.whatsapp,callback:function(t){e.$set(e.copyInvoice,"whatsapp",t)},expression:"copyInvoice.whatsapp"}})],1)],1),o("v-row",[o("v-chip",{staticClass:"ml-2 mr-2"},[o("v-icon",{attrs:{left:"",color:"accent"}},[e._v("mdi-chevron-right")]),e._v("Others ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,rules:e.challanRules,counter:10,label:"Challan number",required:""},model:{value:e.copyInvoice.challanNo,callback:function(t){e.$set(e.copyInvoice,"challanNo",t)},expression:"copyInvoice.challanNo"}})],1)],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"ml-2 mr-2 white--text",attrs:{large:"",color:"red",rounded:"",loading:e.loading,disabled:e.loading},on:{click:e.close}},[o("v-icon",{staticClass:"white--text",attrs:{left:""}},[e._v("close")]),e._v("Cancel ")],1),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{type:"submit",large:"",color:"accent",rounded:"",loading:e.loading,disabled:e.loading},on:{click:e.editInvoice}},[o("v-icon",{attrs:{left:""}},[e._v("save")]),e._v("Save ")],1)],1)],1)],1)],1):e._e()},fe=[],ye={name:"EditInvoice",props:["customer"],data:function(){return{copyInvoice:{invoiceName:"",nickName:"",sonOf:"",village:"",post:"",policeStation:"",dist:"",mobile:"",whatsapp:"",challanNo:""},valid:!1,loading:!1,invoicenameRules:[function(e){return!!e||"Invoice name is required"},function(e){return e.length<=30||"Invoice name must be less than 30 characters"}],nicknameRules:[function(e){return e.length<=15||"Nick name must be less than 15 characters"}],sonofRules:[function(e){return!!e||"Son of field is required"},function(e){return e.length<=30||"Son of field must be less than 30 characters"}],villageRules:[function(e){return!!e||"Village is required"},function(e){return e.length<=20||"Village must be less than 20 characters"}],postRules:[function(e){return!!e||"Post is required"},function(e){return e.length<=20||"Post must be less than 20 characters"}],policestationRules:[function(e){return!!e||"Police station is required"},function(e){return e.length<=20||"Police station must be less than 20 characters"}],distRules:[function(e){return!!e||"District is required"},function(e){return e.length<=20||"District must be less than 20 characters"}],mobileRules:[function(e){return!!e||"Mobile is required"},function(e){return 10==e.length||"Mobile number should be of 10 digits"}],whatsappRules:[function(e){return 10==e.length||0==e.length||"Whatsapp number should be of 10 digits"}],challanRules:[function(e){return!!e||"Challan is required"},function(e){return e.length<=10||"Challan must be less than 10 characters"}]}},created:function(){null!=this.customer.invoice&&(this.copyInvoice=this.customer.invoice)},methods:{copyMobileToWhatsapp:function(){this.copyInvoice.whatsapp=this.copyInvoice.mobile},copyVillageToPost:function(){this.copyInvoice.post=this.copyInvoice.village},copyPostToPoliceStation:function(){this.copyInvoice.policeStation=this.copyInvoice.post},editInvoice:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$store.dispatch("editInvoice",{customerId:this.customer.customerId,payload:{invoiceName:this.copyInvoice.invoiceName,sonOf:this.copyInvoice.sonOf,nickName:this.copyInvoice.nickName,village:this.copyInvoice.village,post:this.copyInvoice.post,policeStation:this.copyInvoice.policeStation,dist:this.copyInvoice.dist,mobile:this.copyInvoice.mobile,whatsapp:this.copyInvoice.whatsapp,challanNo:this.copyInvoice.challanNo}}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:"Error editing invoice"}),e.$store.commit("setSnackbarVisibility",{visible:!0})):(e.$store.commit("setSnackbarText",{snackbarText:"Successfully edited invoice"}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$emit("update:customer",t.body),e.$emit("update:editInvoiceOpen",!1))}))},close:function(){this.$emit("update:editInvoiceOpen",!1)}}},ge=ye,ke=Object(r["a"])(ge,be,fe,!1,null,null,null),_e=ke.exports;v()(ke,{VBtn:m["a"],VChip:p["a"],VCol:h["a"],VContainer:b["a"],VForm:$["a"],VIcon:f["a"],VRow:y["a"],VSpacer:g["a"],VTextField:V["a"]});var xe={name:"EditCustomer",components:{EditBooking:T,ShowBooking:_,EditDelivery:re,ShowDelivery:ie,EditInvoice:_e,ShowInvoice:he},data:function(){return{panel:0,customer:null,loading:!1,bookingVisible:!0,deliveryVisible:!1,invoiceVisible:!1,bottomNav:"booking",editBookingOpen:!1,editDeliveryOpen:!1,editInvoiceOpen:!1}},methods:{openBooking:function(){this.bookingVisible=!0,this.deliveryVisible=!1,this.invoiceVisible=!1},openDelivery:function(){this.bookingVisible=!1,this.deliveryVisible=!0,this.invoiceVisible=!1},openInvoice:function(){this.bookingVisible=!1,this.deliveryVisible=!1,this.invoiceVisible=!0}},beforeCreate:function(){this.$store.state.loggedIn||(this.$store.commit("setSnackbarText",{snackbarText:"Log in first"}),this.$store.commit("setSnackbarVisibility",{visible:!0}),this.$router.push("/"))},mounted:function(){var e=this;this.loading=!0,this.$store.dispatch("getCustomer",{customerId:this.$route.params.id}).then((function(t){t.error?(e.$store.commit("setSnackbarText",{snackbarText:t.message}),e.$store.commit("setSnackbarVisibility",{visible:!0}),e.$router.push("/view-accounts")):e.customer=t.body,e.loading=!1}))}},we=xe,Ce=(o("c7cd"),o("dd43"),o("3a66")),Oe=o("604c"),De=Oe["a"].extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return Oe["a"].options.computed.classes.call(this)}},methods:{genData:Oe["a"].options.methods.genData}}),Ie=o("a9ad"),Se=o("24b2"),$e=o("a452"),Ve=o("277e"),Ne=o("7560");function Te(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function Be(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Te(o,!0).forEach((function(t){Object(A["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Te(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Pe=Object(Y["a"])(Object(Ce["a"])("bottom",["height","inputValue"]),Ie["a"],Se["a"],Object(L["b"])("inputValue"),$e["a"],Ve["a"],Ne["a"]).extend({name:"v-bottom-navigation",props:{activeClass:{type:String,default:"v-btn--active"},backgroundColor:String,grow:Boolean,height:{type:[Number,String],default:56},hideOnScroll:Boolean,horizontal:Boolean,inputValue:{type:Boolean,default:!0},mandatory:Boolean,shift:Boolean},data:function(){return{isActive:this.inputValue}},computed:{canScroll:function(){return Ve["a"].options.computed.canScroll.call(this)&&(this.hideOnScroll||!this.inputValue)},classes:function(){return{"v-bottom-navigation--absolute":this.absolute,"v-bottom-navigation--grow":this.grow,"v-bottom-navigation--fixed":!this.absolute&&(this.app||this.fixed),"v-bottom-navigation--horizontal":this.horizontal,"v-bottom-navigation--shift":this.shift}},styles:function(){return Be({},this.measurableStyles,{transform:this.isActive?"none":"translateY(100%)"})}},created:function(){this.$attrs.hasOwnProperty("active")&&Object(G["a"])("active.sync","value or v-model",this)},methods:{thresholdMet:function(){this.isActive=!this.isScrollingUp,this.$emit("update:input-value",this.isActive)},updateApplication:function(){return this.$el?this.$el.clientHeight:0},updateValue:function(e){this.$emit("change",e)}},render:function(e){var t=this.setBackgroundColor(this.backgroundColor,{staticClass:"v-bottom-navigation",class:this.classes,style:this.styles,props:{activeClass:this.activeClass,mandatory:Boolean(this.mandatory||void 0!==this.value),value:this.internalValue},on:{change:this.updateValue}});return this.canScroll&&(t.directives=t.directives||[],t.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),e(De,this.setTextColor(this.color,t),this.$slots.default)}}),Re=o("490a"),qe=o("71d9"),je=o("2a7f"),Ee=Object(r["a"])(we,i,n,!1,null,null,null);t["default"]=Ee.exports;v()(Ee,{VBottomNavigation:Pe,VBtn:m["a"],VIcon:f["a"],VProgressCircular:Re["a"],VToolbar:qe["a"],VToolbarTitle:je["a"]})},"0a92":function(e,t,o){"use strict";var i=o("dda5"),n=o.n(i);n.a},"368e":function(e,t,o){},"589c":function(e,t,o){"use strict";var i=o("bc44"),n=o.n(i);n.a},"99d9":function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return l})),o.d(t,"d",(function(){return c}));var i=o("b0af"),n=o("80d2"),s=Object(n["i"])("v-card__actions"),a=Object(n["i"])("v-card__subtitle"),l=Object(n["i"])("v-card__text"),c=Object(n["i"])("v-card__title");i["a"]},bc44:function(e,t,o){},dd43:function(e,t,o){},dda5:function(e,t,o){}}]);
//# sourceMappingURL=chunk-1cfb9c36.1ed465ff.js.map